<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–û–±—É—á–∞—é—â–µ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ: –ö–æ–Ω—Ç—Ä–æ–ª—å –≤–µ—Ä—Å–∏–π –∏ —à–∞–±–ª–æ–Ω–æ–≤ ¬∑ –ö–æ–º–∞–Ω–¥–∞ 3</title>
  <style>
    :root {
      color-scheme: dark;
      --bg: #030a14;
      --panel: rgba(9, 24, 42, 0.8);
      --accent: #7bffb7;
      --accent-soft: rgba(123, 255, 183, 0.15);
      --text: #e6f2ff;
      --code-bg: rgba(0, 20, 40, 0.6);
      --section-bg: rgba(5, 14, 24, 0.6);
    }
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Montserrat', 'Exo 2', system-ui, -apple-system, sans-serif;
    }
    body {
      background: radial-gradient(circle at 20% 20%, rgba(16, 60, 94, 0.45), transparent 55%),
        radial-gradient(circle at 80% 0%, rgba(11, 88, 104, 0.3), transparent 45%),
        var(--bg);
      color: var(--text);
      line-height: 1.8;
      padding: 40px clamp(20px, 5vw, 90px);
    }
    .book-container {
      max-width: 1200px;
      margin: 0 auto;
    }
    header {
      text-align: center;
      margin-bottom: 60px;
      animation: fadeInDown 0.8s ease both;
    }
    header h1 {
      font-size: clamp(32px, 5vw, 48px);
      font-weight: 700;
      margin-bottom: 16px;
      background: linear-gradient(135deg, var(--accent), #4dd0e1);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    header .subtitle {
      font-size: 20px;
      color: var(--accent);
      opacity: 0.9;
    }
    .toc {
      background: var(--panel);
      border: 1px solid rgba(123, 255, 183, 0.3);
      border-radius: 24px;
      padding: 32px;
      margin-bottom: 40px;
      backdrop-filter: blur(16px);
    }
    .toc h2 {
      color: var(--accent);
      font-size: 24px;
      margin-bottom: 24px;
      text-align: center;
    }
    .toc ul {
      list-style: none;
      columns: 2;
      column-gap: 40px;
    }
    .toc li {
      margin-bottom: 12px;
      break-inside: avoid;
    }
    .toc a {
      color: var(--text);
      text-decoration: none;
      padding: 8px 12px;
      display: block;
      border-radius: 8px;
      transition: all 0.3s ease;
    }
    .toc a:hover {
      background: var(--accent-soft);
      color: var(--accent);
      transform: translateX(8px);
    }
    .chapter {
      background: var(--panel);
      border: 1px solid rgba(123, 255, 183, 0.3);
      border-radius: 24px;
      padding: 40px;
      margin-bottom: 40px;
      backdrop-filter: blur(16px);
      animation: fadeInUp 0.9s ease both;
    }
    .chapter h2 {
      color: var(--accent);
      font-size: 32px;
      margin-bottom: 24px;
      padding-bottom: 16px;
      border-bottom: 2px solid rgba(123, 255, 183, 0.3);
    }
    .chapter h3 {
      color: var(--accent);
      font-size: 24px;
      margin-top: 32px;
      margin-bottom: 16px;
    }
    .chapter h4 {
      color: #a8d5ff;
      font-size: 20px;
      margin-top: 24px;
      margin-bottom: 12px;
    }
    .chapter p {
      margin-bottom: 16px;
      font-size: 16px;
      text-align: justify;
    }
    .chapter ul, .chapter ol {
      margin-left: 24px;
      margin-bottom: 16px;
    }
    .chapter li {
      margin-bottom: 8px;
    }
    .highlight-box {
      background: var(--section-bg);
      border-left: 4px solid var(--accent);
      padding: 20px;
      margin: 24px 0;
      border-radius: 8px;
    }
    .highlight-box strong {
      color: var(--accent);
      display: block;
      margin-bottom: 8px;
    }
    .tip-box {
      background: rgba(123, 255, 183, 0.1);
      border: 1px solid var(--accent);
      border-radius: 12px;
      padding: 20px;
      margin: 24px 0;
    }
    .tip-box::before {
      content: "üí° –°–æ–≤–µ—Ç: ";
      color: var(--accent);
      font-weight: bold;
    }
    .warning-box {
      background: rgba(255, 152, 0, 0.1);
      border: 1px solid #ff9800;
      border-radius: 12px;
      padding: 20px;
      margin: 24px 0;
    }
    .warning-box::before {
      content: "‚ö†Ô∏è –í–∞–∂–Ω–æ: ";
      color: #ff9800;
      font-weight: bold;
    }
    .code-block {
      background: var(--code-bg);
      border: 1px solid rgba(123, 255, 183, 0.2);
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
      overflow-x: auto;
      position: relative;
      padding-top: 50px;
    }
    .code-block pre {
      font-family: 'Courier New', monospace;
      font-size: 14px;
      color: #a8d5ff;
      margin: 0;
      white-space: pre-wrap;
      word-wrap: break-word;
    }
    .copy-btn {
      position: absolute;
      top: 12px;
      right: 12px;
      padding: 8px 16px;
      background: var(--accent-soft);
      border: 1px solid var(--accent);
      border-radius: 6px;
      color: var(--accent);
      font-size: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .copy-btn:hover {
      background: var(--accent);
      color: var(--bg);
    }
    .show-code-btn {
      margin-top: 12px;
      padding: 10px 20px;
      background: var(--accent-soft);
      border: 1px solid var(--accent);
      border-radius: 8px;
      color: var(--accent);
      font-size: 14px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: inline-block;
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
      user-select: none;
      min-height: 44px;
    }
    .show-code-btn:hover {
      background: var(--accent);
      color: var(--bg);
    }
    .exercise {
      background: var(--section-bg);
      border: 2px solid var(--accent);
      border-radius: 16px;
      padding: 24px;
      margin: 32px 0;
    }
    .exercise h4 {
      color: var(--accent);
      margin-top: 0;
      margin-bottom: 16px;
    }
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.85);
      backdrop-filter: blur(8px);
      animation: fadeIn 0.3s ease;
    }
    .modal.active {
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .modal-content {
      background: var(--panel);
      border: 2px solid var(--accent);
      border-radius: 24px;
      padding: 0;
      max-width: 90vw;
      max-height: 90vh;
      width: 1200px;
      display: flex;
      flex-direction: column;
      box-shadow: 0 25px 60px rgba(0, 0, 0, 0.8);
      animation: slideUp 0.4s ease;
    }
    @media (max-width: 768px) {
      .toc ul {
        columns: 1;
      }
      .chapter {
        padding: 24px;
      }
      .modal-content {
        width: 95vw;
        max-width: 95vw;
        max-height: 95vh;
      }
    }
    .modal-header {
      padding: 24px;
      border-bottom: 1px solid rgba(123, 255, 183, 0.3);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .modal-header h2 {
      font-size: 24px;
      color: var(--accent);
      margin: 0;
    }
    .modal-close {
      background: none;
      border: none;
      color: var(--accent);
      font-size: 32px;
      cursor: pointer;
      padding: 0;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: all 0.3s ease;
      touch-action: manipulation;
      min-height: 44px;
      min-width: 44px;
    }
    .modal-close:hover {
      background: var(--accent-soft);
      transform: rotate(90deg);
    }
    .modal-body {
      padding: 24px;
      overflow-y: auto;
      flex: 1;
      max-height: calc(90vh - 120px);
    }
    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>
<body>
  <div class="book-container">
    <header>
      <h1>üìö –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</h1>
      <p class="subtitle">–°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞–º–∏</p>
      <p style="margin-top: 16px; opacity: 0.8;">–ö–æ–º–∞–Ω–¥–∞ 3 ¬∑ Node.js + React + MongoDB</p>
    </header>

    <div class="toc">
      <h2>üìë –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</h2>
      <ul>
        <li><a href="#intro">–í–≤–µ–¥–µ–Ω–∏–µ</a></li>
        <li><a href="#chapter1">–ì–ª–∞–≤–∞ 1: –û—Å–Ω–æ–≤—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π</a></li>
        <li><a href="#chapter2">–ì–ª–∞–≤–∞ 2: Node.js –∏ Express</a></li>
        <li><a href="#chapter3">–ì–ª–∞–≤–∞ 3: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö MongoDB</a></li>
        <li><a href="#chapter4">–ì–ª–∞–≤–∞ 4: React Frontend</a></li>
        <li><a href="#chapter5">–ì–ª–∞–≤–∞ 5: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</a></li>
        <li><a href="#chapter6">–ì–ª–∞–≤–∞ 6: Docker –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ</a></li>
        <li><a href="#chapter7">–ì–ª–∞–≤–∞ 7: –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏</a></li>
      </ul>
    </div>

    <div id="intro" class="chapter">
      <h2>–í–≤–µ–¥–µ–Ω–∏–µ</h2>
      <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞–º–∏! –≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø—Ä–æ–≤–µ–¥–µ—Ç –≤–∞—Å —á–µ—Ä–µ–∑ –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞.</p>
      
      <div class="highlight-box">
        <strong>–ß—Ç–æ –≤—ã –∏–∑—É—á–∏—Ç–µ:</strong>
        <ul>
          <li>–û—Å–Ω–æ–≤—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞–º–∏</li>
          <li>–†–∞–∑—Ä–∞–±–æ—Ç–∫—É REST API –Ω–∞ Node.js –∏ Express</li>
          <li>–†–∞–±–æ—Ç—É —Å MongoDB —á–µ—Ä–µ–∑ Mongoose</li>
          <li>–°–æ–∑–¥–∞–Ω–∏–µ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –ø—Ä–∞–∫—Ç–∏–∫–∞–º–∏</li>
          <li>–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã</li>
          <li>–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é Docker</li>
        </ul>
      </div>

      <h3>–ß—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–Ω—Ç—Ä–æ–ª—å –≤–µ—Ä—Å–∏–π?</h3>
      <p>–ö–æ–Ω—Ç—Ä–æ–ª—å –≤–µ—Ä—Å–∏–π ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö, —à–∞–±–ª–æ–Ω–∞—Ö –∏ –∫–æ–¥–µ. –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π –ø–æ–∑–≤–æ–ª—è–µ—Ç:</p>
      <ul>
        <li>–û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —à–∞–±–ª–æ–Ω–∞—Ö</li>
        <li>–í–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–∏–º –≤–µ—Ä—Å–∏—è–º –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏</li>
        <li>–°—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</li>
        <li>–û–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –∏ –ø–æ–¥–æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π</li>
      </ul>

      <div class="tip-box">
        –ò–∑—É—á–∞–π—Ç–µ –º–∞—Ç–µ—Ä–∏–∞–ª –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –≤—ã–ø–æ–ª–Ω—è—è –≤—Å–µ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è. –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –ª—É—á—à–µ —É—Å–≤–æ–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª.
      </div>
    </div>

    <div id="chapter1" class="chapter">
      <h2>–ì–ª–∞–≤–∞ 1: –û—Å–Ω–æ–≤—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π</h2>
      
      <h3>1.1 –ü–æ–Ω—è—Ç–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π</h3>
      <p>–ö–æ–Ω—Ç—Ä–æ–ª—å –≤–µ—Ä—Å–∏–π ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö, —à–∞–±–ª–æ–Ω–∞—Ö –∏ –∫–æ–¥–µ. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Å—Ç–æ—Ä–∏—é –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π, –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–∏–º –≤–µ—Ä—Å–∏—è–º –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤. –í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞–º–∏ —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏ –∏ –ø–æ–¥–æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏.</p>

      <h3>1.2 –¶–µ–ª–∏ –∏ –∑–∞–¥–∞—á–∏</h3>
      <ul>
        <li><strong>–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π</strong> –≤ —à–∞–±–ª–æ–Ω–∞—Ö –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö</li>
        <li><strong>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞</strong> –∫ –ø—Ä–µ–¥—ã–¥—É—â–∏–º –≤–µ—Ä—Å–∏—è–º</li>
        <li><strong>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π</strong> –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π</li>
        <li><strong>–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å</strong> –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</li>
      </ul>

      <h3>1.3 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π</h3>
      <p>–°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π –≤–∫–ª—é—á–∞–µ—Ç:</p>
      <ul>
        <li>–•—Ä–∞–Ω–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ (–∫–∞—Ç–µ–≥–æ—Ä–∏—è, —Ç–µ–≥–∏, –≤–µ—Ä—Å–∏—è)</li>
        <li>–°–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–π –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏</li>
        <li>–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π (—á—Ç–æ, –∫–æ–≥–¥–∞, –∫–µ–º –∏–∑–º–µ–Ω–µ–Ω–æ)</li>
        <li>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –≤–µ—Ä—Å–∏–π</li>
        <li>–ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –ø–æ —à–∞–±–ª–æ–Ω–∞–º</li>
      </ul>

      <div class="exercise">
        <h4>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ 1.1</h4>
        <p>–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —à–∞–±–ª–æ–Ω–∞ –∏ –≤–µ—Ä—Å–∏–∏. –ö–∞–∫–∏–µ –ø–æ–ª—è –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π?</p>
      </div>
    </div>

    <div id="chapter2" class="chapter">
      <h2>–ì–ª–∞–≤–∞ 2: Node.js –∏ Express</h2>

      <h3>2.1 –í–≤–µ–¥–µ–Ω–∏–µ –≤ Node.js</h3>
      <p>Node.js ‚Äî —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è JavaScript –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞. –ï–≥–æ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</p>
      <ul>
        <li>–û–¥–∏–Ω —è–∑—ã–∫ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∏ –±—ç–∫–µ–Ω–¥–∞ (JavaScript)</li>
        <li>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (event loop)</li>
        <li>–û–≥—Ä–æ–º–Ω–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ –ø–∞–∫–µ—Ç–æ–≤ (npm)</li>
        <li>–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è I/O –æ–ø–µ—Ä–∞—Ü–∏–π</li>
      </ul>

      <h3>2.2 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</h3>
      <p>–î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js 18 –∏–ª–∏ –Ω–æ–≤–µ–µ:</p>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre># –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ Node.js
node --version

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ npm
npm --version

# –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
mkdir version-control-backend
cd version-control-backend
npm init -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install express mongoose cors
npm install --save-dev nodemon</pre>
      </div>

      <h3>2.3 –û—Å–Ω–æ–≤—ã Express</h3>
      <p>Express ‚Äî –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Node.js. –ï–≥–æ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</p>
      <ul>
        <li>–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏ –≥–∏–±–∫–æ—Å—Ç—å</li>
        <li>Middleware –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤</li>
        <li>–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è (routing)</li>
        <li>–û–≥—Ä–æ–º–Ω–æ–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è</li>
      </ul>

      <h3>2.4 –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ API</h3>
      <p>–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª <code>app.js</code> —Å –±–∞–∑–æ–≤—ã–º API:</p>
      <button class="show-code-btn" data-part="express-basic">üìã –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–¥ –±–∞–∑–æ–≤–æ–≥–æ Express –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</button>

      <h3>2.5 –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö —Å Mongoose</h3>
      <p>Mongoose ‚Äî ODM (Object Document Mapper) –¥–ª—è MongoDB:</p>
      <button class="show-code-btn" data-part="mongoose-models">üìã –ü–æ–∫–∞–∑–∞—Ç—å Mongoose –º–æ–¥–µ–ª–∏</button>

      <h3>2.6 –†–æ—É—Ç–∏–Ω–≥ –∏ middleware</h3>
      <p>Express –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ—â–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Ä–æ—É—Ç–∏–Ω–≥–∞:</p>
      <button class="show-code-btn" data-part="express-routes">üìã –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã —Ä–æ—É—Ç–æ–≤</button>

      <div class="tip-box">
        –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ nodemon –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞: npm install --save-dev nodemon
      </div>

      <div class="exercise">
        <h4>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ 2.1</h4>
        <p>–°–æ–∑–¥–∞–π—Ç–µ Express –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å —Ç—Ä–µ–º—è endpoints: GET /health, GET /api/templates, POST /api/templates. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Mongoose –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å MongoDB.</p>
      </div>
    </div>

    <div id="chapter3" class="chapter">
      <h2>–ì–ª–∞–≤–∞ 3: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö MongoDB</h2>

      <h3>3.1 –í–≤–µ–¥–µ–Ω–∏–µ –≤ MongoDB</h3>
      <p>MongoDB ‚Äî NoSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É—é—â–∞—è –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON. –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</p>
      <ul>
        <li>–ì–∏–±–∫–∞—è —Å—Ö–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö (schema-less)</li>
        <li>–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
        <li>–û—Ç–ª–∏—á–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è —á—Ç–µ–Ω–∏—è</li>
        <li>–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞</li>
      </ul>

      <h3>3.2 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ MongoDB</h3>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre># Ubuntu/Debian
sudo apt update
sudo apt install mongodb

# –ó–∞–ø—É—Å–∫ MongoDB
sudo systemctl start mongodb
sudo systemctl enable mongodb

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MongoDB
mongo

# –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏)
use version_control

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
db.createUser({
    user: "rosatom_user",
    pwd: "rosatom_pass",
    roles: [{ role: "readWrite", db: "version_control" }]
})</pre>
      </div>

      <h3>3.3 Mongoose ODM</h3>
      <p>Mongoose ‚Äî —ç—Ç–æ ODM (Object Document Mapper) –¥–ª—è MongoDB, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö:</p>
      <button class="show-code-btn" data-part="mongoose-schemas">üìã –ü–æ–∫–∞–∑–∞—Ç—å Mongoose —Å—Ö–µ–º—ã</button>

      <h3>3.4 –ò–Ω–¥–µ–∫—Å—ã –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</h3>
      <p>MongoDB –∏–Ω–¥–µ–∫—Å—ã —É—Å–∫–æ—Ä—è—é—Ç –ø–æ–∏—Å–∫ –∏ –∑–∞–ø—Ä–æ—Å—ã:</p>
      <button class="show-code-btn" data-part="mongodb-indexes">üìã –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤</button>

      <h3>3.5 –ó–∞–ø—Ä–æ—Å—ã –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏—è</h3>
      <p>Mongoose –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ—â–Ω—ã–π API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏:</p>
      <button class="show-code-btn" data-part="mongoose-queries">üìã –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤</button>

      <div class="warning-box">
        –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Mongoose –º–µ—Ç–æ–¥—ã –≤–º–µ—Å—Ç–æ —Å—ã—Ä—ã—Ö MongoDB –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç NoSQL-–∏–Ω—ä–µ–∫—Ü–∏–π.
      </div>

      <div class="exercise">
        <h4>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ 3.1</h4>
        <p>–°–æ–∑–¥–∞–π—Ç–µ Mongoose –º–æ–¥–µ–ª–∏ –¥–ª—è Template –∏ Version. –†–µ–∞–ª–∏–∑—É–π—Ç–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ —Å–æ–∑–¥–∞–π—Ç–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞.</p>
      </div>
    </div>

    <div id="chapter4" class="chapter">
      <h2>–ì–ª–∞–≤–∞ 4: React Frontend</h2>

      <h3>4.1 –í–≤–µ–¥–µ–Ω–∏–µ –≤ React</h3>
      <p>React ‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ JavaScript –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤. –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:</p>
      <ul>
        <li><strong>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã</strong> ‚Äî –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–ª–æ–∫–∏ UI</li>
        <li><strong>–°–æ—Å—Ç–æ—è–Ω–∏–µ (State)</strong> ‚Äî –¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞</li>
        <li><strong>Props</strong> ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏</li>
        <li><strong>Hooks</strong> ‚Äî —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º</li>
      </ul>

      <h3>4.2 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞</h3>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre># –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js –∏ npm
# –°–∫–∞—á–∞–π—Ç–µ —Å nodejs.org

# –°–æ–∑–¥–∞–Ω–∏–µ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
npx create-react-app version-control-frontend
cd version-control-frontend

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install axios</pre>
      </div>

      <h3>4.3 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</h3>
      <p>–°–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è –Ω–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:</p>
      <button class="show-code-btn" data-part="react-structure">üìã –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</button>

      <h3>4.4 –†–∞–±–æ—Ç–∞ —Å API</h3>
      <p>–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±—ç–∫–µ–Ω–¥–æ–º:</p>
      <button class="show-code-btn" data-part="react-api">üìã –ü–æ–∫–∞–∑–∞—Ç—å API —Å–µ—Ä–≤–∏—Å</button>

      <h3>4.5 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–ø–∏—Å–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤</h3>
      <p>–†–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –ø–æ–∏—Å–∫–æ–º –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π:</p>
      <button class="show-code-btn" data-part="react-template-list">üìã –ü–æ–∫–∞–∑–∞—Ç—å TemplateList –∫–æ–º–ø–æ–Ω–µ–Ω—Ç</button>

      <h3>4.6 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å—Ç–æ—Ä–∏–∏ –≤–µ—Ä—Å–∏–π</h3>
      <p>–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –≤–µ—Ä—Å–∏–π:</p>
      <button class="show-code-btn" data-part="react-version-history">üìã –ü–æ–∫–∞–∑–∞—Ç—å VersionHistory –∫–æ–º–ø–æ–Ω–µ–Ω—Ç</button>

      <div class="tip-box">
        –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ React DevTools –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –û—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –≤–µ—Ä—Å–∏—è–º–∏.
      </div>

      <div class="exercise">
        <h4>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ 4.1</h4>
        <p>–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç TemplateForm –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —à–∞–±–ª–æ–Ω–æ–≤. –î–æ–±–∞–≤—å—Ç–µ –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–æ–ª–µ–π –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫.</p>
      </div>
    </div>

    <div id="chapter5" class="chapter">
      <h2>–ì–ª–∞–≤–∞ 5: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</h2>

      <h3>5.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CORS</h3>
      <p>CORS (Cross-Origin Resource Sharing) –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è —Å–≤—è–∑–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∏ –±—ç–∫–µ–Ω–¥–∞:</p>
      <button class="show-code-btn" data-part="cors-setup">üìã –ü–æ–∫–∞–∑–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É CORS</button>

      <h3>5.2 –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</h3>
      <p>–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫:</p>
      <button class="show-code-btn" data-part="error-handling">üìã –ü–æ–∫–∞–∑–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫</button>

      <h3>5.3 –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö</h3>
      <p>–û–±–µ—Å–ø–µ—á—å—Ç–µ –≤–∞–ª–∏–¥–∞—Ü–∏—é –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∏ —Å–µ—Ä–≤–µ—Ä–µ:</p>
      <button class="show-code-btn" data-part="validation">üìã –ü–æ–∫–∞–∑–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é</button>

      <h3>5.4 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏</h3>
      <p>–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:</p>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre># –ó–∞–ø—É—Å–∫ –±—ç–∫–µ–Ω–¥–∞
cd backend
npm start

# –ó–∞–ø—É—Å–∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
cd frontend
npm start

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
curl http://localhost:5000/health
curl http://localhost:5000/api/templates/
curl http://localhost:5000/api/templates/:id/versions</pre>
      </div>

      <div class="exercise">
        <h4>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ 5.1</h4>
        <p>–†–µ–∞–ª–∏–∑—É–π—Ç–µ –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª: —Å–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ ‚Üí –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ –±—ç–∫–µ–Ω–¥ ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ MongoDB ‚Üí —Å–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–π –≤–µ—Ä—Å–∏–∏ ‚Üí –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Å–ø–∏—Å–∫–µ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ.</p>
      </div>
    </div>

    <div id="chapter6" class="chapter">
      <h2>–ì–ª–∞–≤–∞ 6: Docker –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ</h2>

      <h3>6.1 –í–≤–µ–¥–µ–Ω–∏–µ –≤ Docker</h3>
      <p>Docker –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø–∞–∫–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –≤—Å–µ –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:</p>
      <ul>
        <li>–ò–∑–æ–ª—è—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è</li>
        <li>–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –º–µ–∂–¥—É —Å—Ä–µ–¥–∞–º–∏</li>
        <li>–£–ø—Ä–æ—â–µ–Ω–∏–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è</li>
        <li>–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å</li>
      </ul>

      <h3>6.2 Dockerfile –¥–ª—è Backend</h3>
      <button class="show-code-btn" data-part="dockerfile-backend">üìã –ü–æ–∫–∞–∑–∞—Ç—å Dockerfile –¥–ª—è Backend</button>

      <h3>6.3 Dockerfile –¥–ª—è Frontend</h3>
      <button class="show-code-btn" data-part="dockerfile-frontend">üìã –ü–æ–∫–∞–∑–∞—Ç—å Dockerfile –¥–ª—è Frontend</button>

      <h3>6.4 Docker Compose</h3>
      <p>Docker Compose —É–ø—Ä–æ—â–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏:</p>
      <button class="show-code-btn" data-part="docker-compose">üìã –ü–æ–∫–∞–∑–∞—Ç—å docker-compose.yml</button>

      <h3>6.5 –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ</h3>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre># –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up --build

# –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
docker-compose up -d

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose down

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º volumes
docker-compose down -v</pre>
      </div>

      <div class="exercise">
        <h4>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ 6.1</h4>
        <p>–°–æ–∑–¥–∞–π—Ç–µ Docker Compose —Ñ–∞–π–ª –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º.</p>
      </div>
    </div>

    <div id="chapter7" class="chapter">
      <h2>–ì–ª–∞–≤–∞ 7: –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏</h2>

      <h3>7.1 –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h3>
      <ul>
        <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è —Å–µ–∫—Ä–µ—Ç–æ–≤</li>
        <li>–í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –≤—Å–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</li>
        <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –≤ production</li>
        <li>–†–µ–∞–ª–∏–∑—É–π—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é</li>
        <li>–û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ —Ä–∞–∑–º–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤</li>
      </ul>

      <h3>7.2 –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</h3>
      <ul>
        <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω–¥–µ–∫—Å—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö</li>
        <li>–ö—ç—à–∏—Ä—É–π—Ç–µ —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ</li>
        <li>–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î</li>
        <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞–≥–∏–Ω–∞—Ü–∏—é –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤</li>
        <li>–ú–∏–Ω–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∫–æ–¥</li>
      </ul>

      <h3>7.3 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
      <p>–ù–∞–ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:</p>
      <button class="show-code-btn" data-part="testing">üìã –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤</button>

      <h3>7.4 –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</h3>
      <p>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:</p>
      <ul>
        <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ docstrings –≤ Python –∫–æ–¥–µ</li>
        <li>–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ API endpoints</li>
        <li>–í–µ–¥–∏—Ç–µ README —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏</li>
        <li>–î–æ–±–∞–≤–ª—è–π—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Å–ª–æ–∂–Ω—ã–º —É—á–∞—Å—Ç–∫–∞–º –∫–æ–¥–∞</li>
      </ul>

      <h3>7.5 –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
      <p>–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:</p>
      <button class="show-code-btn" data-part="logging">üìã –ü–æ–∫–∞–∑–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è</button>

      <div class="highlight-box">
        <strong>–ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ production:</strong>
        <ul>
          <li>‚úì –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã</li>
          <li>‚úì –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞</li>
          <li>‚úì –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç</li>
          <li>‚úì –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω</li>
          <li>‚úì –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞</li>
          <li>‚úì –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ</li>
        </ul>
      </div>
    </div>

    <div class="chapter">
      <h2>–ó–∞–∫–ª—é—á–µ–Ω–∏–µ</h2>
      <p>–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –ø—Ä–æ—à–ª–∏ –ø–æ–ª–Ω—ã–π –∫—É—Ä—Å –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞–º–∏. –¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–Ω–∞–Ω–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ Node.js, React –∏ MongoDB.</p>
      
      <div class="highlight-box">
        <strong>–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:</strong>
        <ul>
          <li>–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å, –¥–æ–±–∞–≤–ª—è—è –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, —ç–∫—Å–ø–æ—Ä—Ç, –∏–º–ø–æ—Ä—Ç —à–∞–±–ª–æ–Ω–æ–≤)</li>
          <li>–ò–∑—É—á–∞–π—Ç–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ–º—ã Node.js (–∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)</li>
          <li>–û—Å–≤–∞–∏–≤–∞–π—Ç–µ MongoDB (–∞–≥—Ä–µ–≥–∞—Ü–∏—è, —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è, —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ)</li>
          <li>–£–ª—É—á—à–∞–π—Ç–µ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞, –º–µ–º–æ–∏–∑–∞—Ü–∏—è)</li>
          <li>–£—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ open-source –ø—Ä–æ–µ–∫—Ç–∞—Ö</li>
          <li>–ß–∏—Ç–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é Node.js, Express, MongoDB –∏ React</li>
        </ul>
      </div>

      <p style="margin-top: 32px; text-align: center; font-size: 18px; color: var(--accent);">
        –£–¥–∞—á–∏ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ! üöÄ
      </p>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ —Å –∫–æ–¥–æ–º -->
  <div id="modal-container"></div>

  <script>
    const codeExamples = {
      'express-basic': {
        title: '–ë–∞–∑–æ–≤–æ–µ Express –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ',
        content: `
          <div class="code-section">
            <h3>app.js - –ë–∞–∑–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</h3>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
const express = require('express');
const cors = require('cors');
const connectDB = require('./config/database');

const app = express();

// –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
connectDB();

// Middleware
app.use(cors());
app.use(express.json({ limit: '10mb' }));
app.use(express.urlencoded({ extended: true }));

// Routes
app.get('/', (req, res) => {
    res.json({ message: '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ API –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π' });
});

app.get('/health', (req, res) => {
    res.json({ status: 'OK', timestamp: new Date().toISOString() });
});

module.exports = app;

// server.js
const app = require('./app');
const PORT = process.env.PORT || 5000;

app.listen(PORT, () => {
    console.log(\`–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É \${PORT}\`);
});
            </div>
          </div>
        `
      },
      'mongoose-models': {
        title: 'Mongoose –º–æ–¥–µ–ª–∏',
        content: `
          <div class="code-section">
            <h3>models/Template.js</h3>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
const mongoose = require('mongoose');

const templateSchema = new mongoose.Schema({
    name: {
        type: String,
        required: [true, '–ù–∞–∑–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ'],
        trim: true,
        index: true
    },
    description: { type: String, trim: true },
    category: {
        type: String,
        required: true,
        enum: ['technical', 'administrative', 'quality', 'safety', 'report'],
        index: true
    },
    content: { type: String, required: true },
    fileType: {
        type: String,
        enum: ['docx', 'pdf', 'txt', 'xlsx'],
        default: 'docx'
    },
    tags: [{ type: String, trim: true, index: true }],
    currentVersion: { type: Number, default: 1 },
    createdBy: { type: String, required: true },
    isActive: { type: Boolean, default: true }
}, {
    timestamps: true
});

// –¢–µ–∫—Å—Ç–Ω—ã–π –∏–Ω–¥–µ–∫—Å –¥–ª—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞
templateSchema.index({
    name: 'text',
    description: 'text',
    content: 'text',
    tags: 'text'
});

module.exports = mongoose.model('Template', templateSchema);
            </div>
          </div>
        `
      },
      'mongoose-schemas': {
        title: 'Mongoose —Å—Ö–µ–º—ã',
        content: `
          <div class="code-section">
            <h3>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ö–µ–º</h3>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
const mongoose = require('mongoose');

// –°—Ö–µ–º–∞ –≤–µ—Ä—Å–∏–∏
const versionSchema = new mongoose.Schema({
    templateId: {
        type: mongoose.Schema.Types.ObjectId,
        ref: 'Template',
        required: true,
        index: true
    },
    versionNumber: { type: Number, required: true },
    content: { type: String, required: true },
    changes: [{
        field: String,
        oldValue: String,
        newValue: String,
        changeType: {
            type: String,
            enum: ['added', 'modified', 'deleted']
        }
    }],
    changeDescription: { type: String, required: true },
    createdBy: { type: String, required: true }
}, {
    timestamps: true
});

// –°–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å
versionSchema.index({ templateId: 1, versionNumber: 1 });

module.exports = mongoose.model('Version', versionSchema);
            </div>
          </div>
        `
      },
      'mongodb-indexes': {
        title: '–°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ MongoDB',
        content: `
          <div class="code-section">
            <h3>–ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</h3>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
// –í —Å—Ö–µ–º–µ Mongoose
templateSchema.index({ name: 1 }); // –û–±—ã—á–Ω—ã–π –∏–Ω–¥–µ–∫—Å
templateSchema.index({ category: 1 }); // –ò–Ω–¥–µ–∫—Å –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

// –¢–µ–∫—Å—Ç–Ω—ã–π –∏–Ω–¥–µ–∫—Å –¥–ª—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞
templateSchema.index({
    name: 'text',
    description: 'text',
    content: 'text',
    tags: 'text'
});

// –°–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å
versionSchema.index({ templateId: 1, versionNumber: 1 });

// –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –≤ MongoDB shell
db.templates.createIndex({ "name": "text", "description": "text" });
db.templates.createIndex({ "category": 1 });
db.versions.createIndex({ "templateId": 1, "versionNumber": 1 });
            </div>
          </div>
        `
      },
      'mongoose-queries': {
        title: '–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ Mongoose',
        content: `
          <div class="code-section">
            <h3>CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏</h3>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
const Template = require('./models/Template');

// –°–æ–∑–¥–∞–Ω–∏–µ
const template = new Template({
    name: '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç',
    category: 'technical',
    content: '–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ...',
    createdBy: 'user1'
});
await template.save();

// –ß—Ç–µ–Ω–∏–µ
const templates = await Template.find({ isActive: true });
const template = await Template.findById(id);

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
await Template.findByIdAndUpdate(id, { 
    currentVersion: 2 
}, { new: true });

// –£–¥–∞–ª–µ–Ω–∏–µ (–º—è–≥–∫–æ–µ)
await Template.findByIdAndUpdate(id, { 
    isActive: false 
});

// –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫
const results = await Template.find({ 
    $text: { $search: '—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π' } 
});

// –ê–≥—Ä–µ–≥–∞—Ü–∏—è
const stats = await Template.aggregate([
    { $group: { _id: '$category', count: { $sum: 1 } } }
]);
            </div>
          </div>
        `
      },
      'express-routes': {
        title: 'Express —Ä–æ—É—Ç—ã',
        content: `
          <div class="code-section">
            <h3>–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ä–æ—É—Ç–æ–≤</h3>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
// routes/templates.js
const express = require('express');
const router = express.Router();
const Template = require('../models/Template');

// GET /api/templates
router.get('/', async (req, res) => {
    try {
        const templates = await Template.find({ isActive: true })
            .sort({ createdAt: -1 })
            .limit(10);
        res.json(templates);
    } catch (error) {
        res.status(500).json({ error: error.message });
    }
});

// POST /api/templates
router.post('/', async (req, res) => {
    try {
        const template = new Template(req.body);
        await template.save();
        res.status(201).json(template);
    } catch (error) {
        res.status(400).json({ error: error.message });
    }
});

module.exports = router;

// app.js
const templateRoutes = require('./routes/templates');
app.use('/api/templates', templateRoutes);
            </div>
          </div>
        `
      },
      'pydantic-models': {
        title: 'Pydantic –º–æ–¥–µ–ª–∏',
        content: `
          <div class="code-section">
            <h3>–ü—Ä–∏–º–µ—Ä—ã Pydantic –º–æ–¥–µ–ª–µ–π</h3>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
from pydantic import BaseModel, Field
from typing import Optional, List
from datetime import datetime

class StandardBase(BaseModel):
    rule_code: str = Field(..., description="–ö–æ–¥ –ø—Ä–∞–≤–∏–ª–∞")
    description: str = Field(..., description="–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞")
    category: str = Field(..., description="–ö–∞—Ç–µ–≥–æ—Ä–∏—è")

class StandardCreate(StandardBase):
    pass

class StandardResponse(StandardBase):
    id: int
    created_at: datetime
    
    class Config:
        from_attributes = True

class DocumentCheckResponse(BaseModel):
    filename: str
    is_valid: bool
    violations: List[str]
    check_id: int
            </div>
          </div>
        `
      },
      'file-upload': {
        title: '–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤',
        content: `
          <div class="code-section">
            <h3>Endpoint –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤</h3>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
from fastapi import FastAPI, UploadFile, File, HTTPException
import shutil
import os

UPLOAD_DIR = "uploads"
os.makedirs(UPLOAD_DIR, exist_ok=True)

@app.post("/check-document/")
async def check_document(file: UploadFile = File(...)):
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞
    if not file.filename.endswith(('.pdf', '.docx')):
        raise HTTPException(status_code=400, detail="–ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞")
    
    # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
    file_path = f"{UPLOAD_DIR}/{file.filename}"
    with open(file_path, "wb") as buffer:
        shutil.copyfileobj(file.file, buffer)
    
    # –ó–¥–µ—Å—å –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞
    violations = []
    
    return {
        "filename": file.filename,
        "is_valid": len(violations) == 0,
        "violations": violations
    }
            </div>
          </div>
        `
      },
      'sqlalchemy-models': {
        title: '–ú–æ–¥–µ–ª–∏ SQLAlchemy',
        content: `
          <div class="code-section">
            <h3>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π</h3>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
from sqlalchemy import Column, Integer, String, Boolean, DateTime, JSON
from sqlalchemy.ext.declarative import declarative_base
from datetime import datetime

Base = declarative_base()

class Standard(Base):
    __tablename__ = "standards"
    
    id = Column(Integer, primary_key=True, index=True)
    rule_code = Column(String(50), unique=True, index=True)
    description = Column(String(500))
    category = Column(String(100))
    created_at = Column(DateTime, default=datetime.utcnow)

class DocumentCheck(Base):
    __tablename__ = "document_checks"
    
    id = Column(Integer, primary_key=True, index=True)
    filename = Column(String(255), nullable=False)
    upload_date = Column(DateTime, default=datetime.utcnow)
    is_valid = Column(Boolean)
    violations = Column(JSON)
    checked_by = Column(String(100), default="system")
            </div>
          </div>
        `
      },
      'migrations': {
        title: '–†–∞–±–æ—Ç–∞ —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏',
        content: `
          <div class="code-section">
            <h3>–°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü</h3>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
from database import engine, Base
from models import Standard, DocumentCheck

# –°–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
Base.metadata.create_all(bind=engine)

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Alembic –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π:
# pip install alembic
# alembic init alembic
# alembic revision --autogenerate -m "Initial migration"
# alembic upgrade head
            </div>
          </div>
        `
      },
      'queries': {
        title: '–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ SQLAlchemy',
        content: `
          <div class="code-section">
            <h3>CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏</h3>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
from sqlalchemy.orm import Session
from models import Standard

# –°–æ–∑–¥–∞–Ω–∏–µ
def create_standard(db: Session, rule_code: str, description: str):
    standard = Standard(rule_code=rule_code, description=description)
    db.add(standard)
    db.commit()
    db.refresh(standard)
    return standard

# –ß—Ç–µ–Ω–∏–µ
def get_standards(db: Session, skip: int = 0, limit: int = 100):
    return db.query(Standard).offset(skip).limit(limit).all()

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
def update_standard(db: Session, standard_id: int, description: str):
    standard = db.query(Standard).filter(Standard.id == standard_id).first()
    if standard:
        standard.description = description
        db.commit()
        db.refresh(standard)
    return standard

# –£–¥–∞–ª–µ–Ω–∏–µ
def delete_standard(db: Session, standard_id: int):
    standard = db.query(Standard).filter(Standard.id == standard_id).first()
    if standard:
        db.delete(standard)
        db.commit()
    return standard
            </div>
          </div>
        `
      },
      'react-structure': {
        title: '–°—Ç—Ä—É–∫—Ç—É—Ä–∞ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤',
        content: `
          <div class="code-section">
            <h3>–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤</h3>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
src/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ TemplateList/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TemplateList.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TemplateList.css
‚îÇ   ‚îú‚îÄ‚îÄ TemplateForm/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TemplateForm.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TemplateForm.css
‚îÇ   ‚îú‚îÄ‚îÄ VersionHistory/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ VersionHistory.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ VersionHistory.css
‚îÇ   ‚îî‚îÄ‚îÄ SearchTemplates/
‚îÇ       ‚îú‚îÄ‚îÄ SearchTemplates.jsx
‚îÇ       ‚îî‚îÄ‚îÄ SearchTemplates.css
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ api.js
‚îú‚îÄ‚îÄ App.jsx
‚îú‚îÄ‚îÄ App.css
‚îî‚îÄ‚îÄ index.js
            </div>
          </div>
        `
      },
      'react-api': {
        title: 'API —Å–µ—Ä–≤–∏—Å',
        content: `
          <div class="code-section">
            <h3>services/api.js</h3>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
const API_BASE = 'http://localhost:5000/api';

class ApiService {
    // –®–∞–±–ª–æ–Ω—ã
    async getTemplates(page = 1, limit = 10, filters = {}) {
        const params = new URLSearchParams({
            page: page.toString(),
            limit: limit.toString(),
            ...filters
        });
        const response = await fetch(\`\${API_BASE}/templates?\${params}\`);
        return await response.json();
    }

    async getTemplate(id) {
        const response = await fetch(\`\${API_BASE}/templates/\${id}\`);
        return await response.json();
    }

    async createTemplate(templateData) {
        const response = await fetch(\`\${API_BASE}/templates\`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(templateData)
        });
        return await response.json();
    }

    // –í–µ—Ä—Å–∏–∏
    async getTemplateVersions(templateId) {
        const response = await fetch(\`\${API_BASE}/templates/\${templateId}/versions\`);
        return await response.json();
    }

    async compareVersions(version1Id, version2Id) {
        const response = await fetch(\`\${API_BASE}/versions/compare/\${version1Id}/\${version2Id}\`);
        return await response.json();
    }
}

export default new ApiService();
            </div>
          </div>
        `
      },
      'react-template-list': {
        title: '–ö–æ–º–ø–æ–Ω–µ–Ω—Ç TemplateList',
        content: `
          <div class="code-section">
            <h3>TemplateList.jsx</h3>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
import React, { useState, useEffect } from 'react';
import ApiService from '../../services/api';
import './TemplateList.css';

function TemplateList({ onTemplateSelect, onNewTemplate }) {
    const [templates, setTemplates] = useState([]);
    const [loading, setLoading] = useState(true);
    const [currentPage, setCurrentPage] = useState(1);
    const [filters, setFilters] = useState({ category: '', search: '' });

    useEffect(() => {
        loadTemplates();
    }, [currentPage, filters]);

    const loadTemplates = async () => {
        setLoading(true);
        try {
            const data = await ApiService.getTemplates(currentPage, 10, filters);
            setTemplates(data.templates);
        } catch (error) {
            console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —à–∞–±–ª–æ–Ω–æ–≤:', error);
        } finally {
            setLoading(false);
        }
    };

    if (loading) {
        return <div className="loading">–ó–∞–≥—Ä—É–∑–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤...</div>;
    }

    return (
        <div className="template-list">
            <div className="template-header">
                <h2>–®–∞–±–ª–æ–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</h2>
                <button onClick={onNewTemplate}>+ –ù–æ–≤—ã–π —à–∞–±–ª–æ–Ω</button>
            </div>
            <div className="filters">
                <input
                    type="text"
                    placeholder="–ü–æ–∏—Å–∫ —à–∞–±–ª–æ–Ω–æ–≤..."
                    value={filters.search}
                    onChange={(e) => setFilters({ ...filters, search: e.target.value })}
                />
            </div>
            <div className="templates-grid">
                {templates.map(template => (
                    <div key={template._id} className="template-card"
                         onClick={() => onTemplateSelect(template)}>
                        <h3>{template.name}</h3>
                        <span className="version-badge">v{template.currentVersion}</span>
                        <p>{template.description}</p>
                    </div>
                ))}
            </div>
        </div>
    );
}

export default TemplateList;
            </div>
          </div>
        `
      },
      'react-version-history': {
        title: '–ö–æ–º–ø–æ–Ω–µ–Ω—Ç VersionHistory',
        content: `
          <div class="code-section">
            <h3>VersionHistory.jsx</h3>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
import React, { useState, useEffect } from 'react';
import ApiService from '../../services/api';
import './VersionHistory.css';

function VersionHistory({ templateId }) {
    const [versions, setVersions] = useState([]);
    const [loading, setLoading] = useState(true);
    const [selectedVersions, setSelectedVersions] = useState([]);
    const [comparison, setComparison] = useState(null);

    useEffect(() => {
        if (templateId) {
            loadVersions();
        }
    }, [templateId]);

    const loadVersions = async () => {
        setLoading(true);
        try {
            const data = await ApiService.getTemplateVersions(templateId);
            setVersions(data);
        } catch (error) {
            console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–µ—Ä—Å–∏–π:', error);
        } finally {
            setLoading(false);
        }
    };

    const compareVersions = async () => {
        if (selectedVersions.length === 2) {
            try {
                const data = await ApiService.compareVersions(
                    selectedVersions[0], 
                    selectedVersions[1]
                );
                setComparison(data);
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è:', error);
            }
        }
    };

    return (
        <div className="version-history">
            <h3>–ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π</h3>
            {versions.map(version => (
                <div key={version._id} className="version-item">
                    <h4>–í–µ—Ä—Å–∏—è {version.versionNumber}</h4>
                    <p>{version.changeDescription}</p>
                    <span>{new Date(version.createdAt).toLocaleDateString()}</span>
                </div>
            ))}
            {selectedVersions.length === 2 && (
                <button onClick={compareVersions}>–°—Ä–∞–≤–Ω–∏—Ç—å –≤–µ—Ä—Å–∏–∏</button>
            )}
        </div>
    );
}

export default VersionHistory;
            </div>
          </div>
        `
      },
      'react-hooks': {
        title: '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ React Hooks',
        content: `
          <div class="code-section">
            <h3>–ü—Ä–∏–º–µ—Ä—ã Hooks –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏—è–º–∏</h3>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
import React, { useState, useEffect } from 'react';
import ApiService from './services/api';

function App() {
  const [templates, setTemplates] = useState([]);
  const [selectedTemplate, setSelectedTemplate] = useState(null);
  const [currentView, setCurrentView] = useState('list');
  
  useEffect(() => {
    const loadTemplates = async () => {
      try {
        const data = await ApiService.getTemplates();
        setTemplates(data.templates);
      } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', error);
      }
    };
    loadTemplates();
  }, []); // –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
  
  const handleTemplateSelect = (template) => {
    setSelectedTemplate(template);
    setCurrentView('versions');
  };
  
  return (
    <div>
      {currentView === 'list' && (
        <TemplateList onTemplateSelect={handleTemplateSelect} />
      )}
      {currentView === 'versions' && (
        <VersionHistory templateId={selectedTemplate._id} />
      )}
    </div>
  );
}
            </div>
          </div>
        `
      },
      'cors-setup': {
        title: '–ù–∞—Å—Ç—Ä–æ–π–∫–∞ CORS –≤ Express',
        content: `
          <div class="code-section">
            <h3>app.js - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CORS</h3>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
const express = require('express');
const cors = require('cors');

const app = express();

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CORS
app.use(cors({
    origin: [
        'http://localhost:3000',  // React dev server
        'http://localhost:4200'   // Angular dev server
    ],
    credentials: true,
    methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'],
    allowedHeaders: ['Content-Type', 'Authorization']
}));

// –ò–ª–∏ –¥–ª—è –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!)
// app.use(cors());
            </div>
          </div>
        `
      },
      'error-handling': {
        title: '–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫',
        content: `
          <div class="code-section">
            <h3>–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</h3>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
from fastapi import FastAPI, HTTPException, Request
from fastapi.responses import JSONResponse

app = FastAPI()

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
@app.exception_handler(HTTPException)
async def http_exception_handler(request: Request, exc: HTTPException):
    return JSONResponse(
        status_code=exc.status_code,
        content={"error": exc.detail}
    )

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—Å–µ—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π
@app.exception_handler(Exception)
async def general_exception_handler(request: Request, exc: Exception):
    return JSONResponse(
        status_code=500,
        content={"error": "–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞"}
    )
            </div>
          </div>
        `
      },
      'validation': {
        title: '–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö',
        content: `
          <div class="code-section">
            <h3>–í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∏ —Å–µ—Ä–≤–µ—Ä–µ</h3>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
// React - –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
const validateFile = (file) => {
  const maxSize = 10 * 1024 * 1024; // 10MB
  const allowedTypes = ['application/pdf', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];
  
  if (file.size > maxSize) {
    return '–§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π';
  }
  
  if (!allowedTypes.includes(file.type)) {
    return '–ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞';
  }
  
  return null;
};

# FastAPI - –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
from pydantic import BaseModel, validator

class DocumentCheckRequest(BaseModel):
    filename: str
    content: str
    
    @validator('filename')
    def validate_filename(cls, v):
        if not v.endswith(('.pdf', '.docx')):
            raise ValueError('–ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞')
        return v
            </div>
          </div>
        `
      },
      'dockerfile-backend': {
        title: 'Dockerfile –¥–ª—è Backend (Node.js)',
        content: `
          <div class="code-section">
            <h3>backend/Dockerfile</h3>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
FROM node:18

WORKDIR /app

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ package.json –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
COPY package.json .
RUN npm install

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
COPY . .

# –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ—Ä—Ç–∞
EXPOSE 5000

# –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞
CMD ["npm", "start"]
            </div>
          </div>
        `
      },
      'dockerfile-frontend': {
        title: 'Dockerfile –¥–ª—è Frontend (React)',
        content: `
          <div class="code-section">
            <h3>frontend/Dockerfile</h3>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
FROM node:18

WORKDIR /app

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ package.json –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
COPY package.json .
RUN npm install

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
COPY . .

# –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ—Ä—Ç–∞
EXPOSE 3000

# –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞
CMD ["npm", "start"]
            </div>
          </div>
        `
      },
      'docker-compose': {
        title: 'Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è',
        content: `
          <div class="code-section">
            <h3>docker-compose.yml</h3>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
version: '3.8'

services:
  # MongoDB –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
  mongo:
    image: mongo:6.0
    environment:
      MONGO_INITDB_ROOT_USERNAME: admin
      MONGO_INITDB_ROOT_PASSWORD: password
      MONGO_INITDB_DATABASE: version_control
    ports:
      - "27017:27017"
    volumes:
      - mongo_data:/data/db
      - ./init-mongo.js:/docker-entrypoint-initdb.d/init-mongo.js:ro

  # Backend Node.js
  backend:
    build: ./backend
    ports:
      - "5000:5000"
    depends_on:
      - mongo
    environment:
      MONGODB_URI: mongodb://admin:password@mongo:27017/version_control?authSource=admin
    volumes:
      - ./backend:/app
      - /app/node_modules

  # Frontend React
  frontend:
    build: ./frontend
    ports:
      - "3000:3000"
    depends_on:
      - backend
    environment:
      REACT_APP_API_URL: http://localhost:5000/api
    volumes:
      - ./frontend:/app
      - /app/node_modules

volumes:
  mongo_data:
            </div>
          </div>
        `
      },
      'init-mongo': {
        title: '–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è MongoDB',
        content: `
          <div class="code-section">
            <h3>init-mongo.js</h3>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
db.createUser({
    user: "rosatom_user",
    pwd: "rosatom_pass",
    roles: [
        {
            role: "readWrite",
            db: "version_control"
        }
    ]
});

// –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤
db.templates.createIndex({ 
    "name": "text", 
    "description": "text", 
    "content": "text", 
    "tags": "text" 
});
db.templates.createIndex({ "category": 1 });
db.versions.createIndex({ "templateId": 1, "versionNumber": 1 });
            </div>
          </div>
        `
      },
      'testing': {
        title: '–ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤ Node.js',
        content: `
          <div class="code-section">
            <h3>–¢–µ—Å—Ç—ã –¥–ª—è Express</h3>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
// –£—Å—Ç–∞–Ω–æ–≤–∫–∞: npm install --save-dev jest supertest
const request = require('supertest');
const app = require('./app');

describe('API Tests', () => {
    test('GET /health', async () => {
        const response = await request(app)
            .get('/health');
        expect(response.statusCode).toBe(200);
        expect(response.body.status).toBe('OK');
    });

    test('GET /api/templates', async () => {
        const response = await request(app)
            .get('/api/templates');
        expect(response.statusCode).toBe(200);
        expect(Array.isArray(response.body.templates)).toBe(true);
    });

    test('POST /api/templates', async () => {
        const templateData = {
            name: '–¢–µ—Å—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω',
            category: 'technical',
            content: '–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ...',
            createdBy: 'test_user'
        };
        const response = await request(app)
            .post('/api/templates')
            .send(templateData);
        expect(response.statusCode).toBe(201);
        expect(response.body.name).toBe(templateData.name);
    });
});
            </div>
          </div>
        `
      },
      'logging': {
        title: '–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è Node.js',
        content: `
          <div class="code-section">
            <h3>–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Express</h3>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
// –£—Å—Ç–∞–Ω–æ–≤–∫–∞: npm install winston
const winston = require('winston');

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–≥–µ—Ä–∞
const logger = winston.createLogger({
    level: 'info',
    format: winston.format.json(),
    transports: [
        new winston.transports.File({ filename: 'error.log', level: 'error' }),
        new winston.transports.File({ filename: 'combined.log' }),
        new winston.transports.Console({
            format: winston.format.simple()
        })
    ]
});

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Ä–æ—É—Ç–∞—Ö
router.post('/', async (req, res) => {
    logger.info('–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —à–∞–±–ª–æ–Ω–∞', { body: req.body });
    try {
        const template = new Template(req.body);
        await template.save();
        logger.info('–®–∞–±–ª–æ–Ω —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ', { id: template._id });
        res.status(201).json(template);
    } catch (error) {
        logger.error('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —à–∞–±–ª–æ–Ω–∞', { error: error.message });
        res.status(400).json({ error: error.message });
    }
});
            </div>
          </div>
        `
      }
    };

    function openModal(modalId) {
      const data = codeExamples[modalId];
      if (!data) {
        alert('–ö–æ–¥ –¥–ª—è —ç—Ç–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –ø–æ–∫–∞ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω.');
        return;
      }

      const modal = document.createElement('div');
      modal.className = 'modal active';
      modal.innerHTML = `
        <div class="modal-content">
          <div class="modal-header">
            <h2>${data.title}</h2>
            <button class="modal-close" onclick="closeModal(this)">&times;</button>
          </div>
          <div class="modal-body">
            ${data.content}
          </div>
        </div>
      `;
      
      modal.addEventListener('click', (e) => {
        if (e.target === modal) {
          closeModal(modal.querySelector('.modal-close'));
        }
      });
      
      modal.addEventListener('touchend', (e) => {
        if (e.target === modal) {
          e.preventDefault();
          closeModal(modal.querySelector('.modal-close'));
        }
      }, { passive: false });

      document.getElementById('modal-container').appendChild(modal);
      document.body.style.overflow = 'hidden';
      
      const closeBtn = modal.querySelector('.modal-close');
      if (closeBtn) {
        closeBtn.addEventListener('touchend', (e) => {
          e.preventDefault();
          e.stopPropagation();
          closeModal(closeBtn);
        }, { passive: false });
      }
    }

    function closeModal(btn) {
      const modal = btn.closest('.modal');
      modal.classList.remove('active');
      setTimeout(() => {
        modal.remove();
        document.body.style.overflow = '';
      }, 300);
    }

    function copyCode(btn) {
      const codeBlock = btn.parentElement;
      const text = codeBlock.textContent.replace('–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å', '').trim();
      navigator.clipboard.writeText(text).then(() => {
        const originalText = btn.textContent;
        btn.textContent = '‚úì –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
        setTimeout(() => {
          btn.textContent = originalText;
        }, 2000);
      }).catch(() => {
        const textarea = document.createElement('textarea');
        textarea.value = text;
        document.body.appendChild(textarea);
        textarea.select();
        document.execCommand('copy');
        document.body.removeChild(textarea);
        btn.textContent = '‚úì –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
        setTimeout(() => {
          btn.textContent = '–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å';
        }, 2000);
      });
    }

    // –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ —è–∫–æ—Ä—è–º
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      });
    });

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–Ω–æ–ø–æ–∫
    document.addEventListener('DOMContentLoaded', () => {
      const buttons = document.querySelectorAll('.show-code-btn[data-part]');
      buttons.forEach(button => {
        const handleClick = (e) => {
          e.preventDefault();
          e.stopPropagation();
          const partId = button.getAttribute('data-part');
          if (partId) {
            openModal(partId);
          }
        };
        
        button.addEventListener('click', handleClick);
        button.addEventListener('touchend', (e) => {
          e.preventDefault();
          handleClick(e);
        });
      });
    });

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ Escape
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        const modal = document.querySelector('.modal.active');
        if (modal) {
          closeModal(modal.querySelector('.modal-close'));
        }
      }
    });

    window.openModal = openModal;
    window.closeModal = closeModal;
    window.copyCode = copyCode;
  </script>
</body>
</html>

