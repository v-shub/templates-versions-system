<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ: –°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞–º–∏ ¬∑ –ö–æ–º–∞–Ω–¥–∞ 3</title>
  <style>
    :root {
      color-scheme: dark;
      --bg: #030a14;
      --panel: rgba(9, 24, 42, 0.8);
      --accent: #7bffb7;
      --accent-soft: rgba(123, 255, 183, 0.15);
      --text: #e6f2ff;
      --code-bg: rgba(0, 20, 40, 0.6);
      --section-bg: rgba(5, 14, 24, 0.6);
    }
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Montserrat', 'Exo 2', system-ui, -apple-system, sans-serif;
    }
    body {
      background: radial-gradient(circle at 20% 20%, rgba(16, 60, 94, 0.45), transparent 55%),
        radial-gradient(circle at 80% 0%, rgba(11, 88, 104, 0.3), transparent 45%),
        var(--bg);
      color: var(--text);
      line-height: 1.8;
      padding: 40px clamp(20px, 5vw, 90px);
    }
    .book-container {
      max-width: 1200px;
      margin: 0 auto;
    }
    header {
      text-align: center;
      margin-bottom: 60px;
      animation: fadeInDown 0.8s ease both;
    }
    header h1 {
      font-size: clamp(32px, 5vw, 48px);
      font-weight: 700;
      margin-bottom: 16px;
      background: linear-gradient(135deg, var(--accent), #4dd0e1);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    header .subtitle {
      font-size: 20px;
      color: var(--accent);
      opacity: 0.9;
    }
    .toc {
      background: var(--panel);
      border: 1px solid rgba(123, 255, 183, 0.3);
      border-radius: 24px;
      padding: 32px;
      margin-bottom: 40px;
      backdrop-filter: blur(16px);
    }
    .toc h2 {
      color: var(--accent);
      font-size: 24px;
      margin-bottom: 24px;
      text-align: center;
    }
    .toc ul {
      list-style: none;
      columns: 2;
      column-gap: 40px;
    }
    .toc li {
      margin-bottom: 12px;
      break-inside: avoid;
    }
    .toc a {
      color: var(--text);
      text-decoration: none;
      padding: 8px 12px;
      display: block;
      border-radius: 8px;
      transition: all 0.3s ease;
    }
    .toc a:hover {
      background: var(--accent-soft);
      color: var(--accent);
      transform: translateX(8px);
    }
    .chapter {
      background: var(--panel);
      border: 1px solid rgba(123, 255, 183, 0.3);
      border-radius: 24px;
      padding: 40px;
      margin-bottom: 40px;
      backdrop-filter: blur(16px);
      animation: fadeInUp 0.9s ease both;
    }
    .chapter h2 {
      color: var(--accent);
      font-size: 32px;
      margin-bottom: 24px;
      padding-bottom: 16px;
      border-bottom: 2px solid rgba(123, 255, 183, 0.3);
    }
    .chapter h3 {
      color: var(--accent);
      font-size: 24px;
      margin-top: 32px;
      margin-bottom: 16px;
    }
    .chapter h4 {
      color: #a8d5ff;
      font-size: 20px;
      margin-top: 24px;
      margin-bottom: 12px;
    }
    .chapter p {
      margin-bottom: 16px;
      font-size: 16px;
      text-align: justify;
    }
    .chapter ul, .chapter ol {
      margin-left: 24px;
      margin-bottom: 16px;
    }
    .chapter li {
      margin-bottom: 8px;
    }
    .highlight-box {
      background: var(--section-bg);
      border-left: 4px solid var(--accent);
      padding: 20px;
      margin: 24px 0;
      border-radius: 8px;
    }
    .highlight-box strong {
      color: var(--accent);
      display: block;
      margin-bottom: 8px;
    }
    .tip-box {
      background: rgba(123, 255, 183, 0.1);
      border: 1px solid var(--accent);
      border-radius: 12px;
      padding: 20px;
      margin: 24px 0;
    }
    .tip-box::before {
      content: "üí° –°–æ–≤–µ—Ç: ";
      color: var(--accent);
      font-weight: bold;
    }
    .warning-box {
      background: rgba(255, 152, 0, 0.1);
      border: 1px solid #ff9800;
      border-radius: 12px;
      padding: 20px;
      margin: 24px 0;
    }
    .warning-box::before {
      content: "‚ö†Ô∏è –í–∞–∂–Ω–æ: ";
      color: #ff9800;
      font-weight: bold;
    }
    .code-block {
      background: var(--code-bg);
      border: 1px solid rgba(123, 255, 183, 0.2);
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
      overflow-x: auto;
      position: relative;
      padding-top: 50px;
    }
    .code-block pre {
      font-family: 'Courier New', monospace;
      font-size: 14px;
      color: #a8d5ff;
      margin: 0;
      white-space: pre-wrap;
      word-wrap: break-word;
    }
    .copy-btn {
      position: absolute;
      top: 12px;
      right: 12px;
      padding: 8px 16px;
      background: var(--accent-soft);
      border: 1px solid var(--accent);
      border-radius: 6px;
      color: var(--accent);
      font-size: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .copy-btn:hover {
      background: var(--accent);
      color: var(--bg);
    }
    .show-code-btn {
      margin-top: 12px;
      padding: 10px 20px;
      background: var(--accent-soft);
      border: 1px solid var(--accent);
      border-radius: 8px;
      color: var(--accent);
      font-size: 14px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: inline-block;
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
      user-select: none;
      min-height: 44px;
    }
    .show-code-btn:hover {
      background: var(--accent);
      color: var(--bg);
    }
    .exercise {
      background: var(--section-bg);
      border: 2px solid var(--accent);
      border-radius: 16px;
      padding: 24px;
      margin: 32px 0;
    }
    .exercise h4 {
      color: var(--accent);
      margin-top: 0;
      margin-bottom: 16px;
    }
    .modal {
      display: none;
      position: fixed;
      z-index: 2147483647; /* –ø–æ–≤–µ—Ä—Ö –≤—Å–µ–≥–æ */
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.85);
      backdrop-filter: blur(8px);
      animation: fadeIn 0.3s ease;
      visibility: hidden;
      opacity: 0;
      pointer-events: none;
    }
    .modal.active {
      display: flex !important;
      align-items: center;
      justify-content: center;
      visibility: visible;
      opacity: 1;
      pointer-events: auto;
    }
    .modal-content {
      background: var(--panel);
      border: 2px solid var(--accent);
      border-radius: 24px;
      padding: 0;
      max-width: 90vw;
      max-height: 90vh;
      width: 1200px;
      display: flex;
      flex-direction: column;
      box-shadow: 0 25px 60px rgba(0, 0, 0, 0.8);
      animation: slideUp 0.4s ease;
      pointer-events: auto;
    }
    @media (max-width: 768px) {
      .toc ul {
        columns: 1;
      }
      .chapter {
        padding: 24px;
      }
      .modal-content {
        width: 95vw;
        max-width: 95vw;
        max-height: 95vh;
      }
    }
    .modal-header {
      padding: 24px;
      border-bottom: 1px solid rgba(123, 255, 183, 0.3);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .modal-header h2 {
      font-size: 24px;
      color: var(--accent);
      margin: 0;
    }
    .modal-close {
      background: none;
      border: none;
      color: var(--accent);
      font-size: 32px;
      cursor: pointer;
      padding: 0;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: all 0.3s ease;
      touch-action: manipulation;
      min-height: 44px;
      min-width: 44px;
    }
    .modal-close:hover {
      background: var(--accent-soft);
      transform: rotate(90deg);
    }
    .modal-body {
      padding: 24px;
      overflow-y: auto;
      flex: 1;
      max-height: calc(90vh - 120px);
    }

    /* ‚úÖ –ß–∏—Ç–∞–±–µ–ª—å–Ω—ã–π –∫–æ–¥ –≤–Ω—É—Ç—Ä–∏ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω */
    .modal-body .code-full {
      background: var(--code-bg);
      border: 1px solid rgba(123, 255, 183, 0.2);
      border-radius: 12px;
      padding: 20px;
      margin: 16px 0;
      overflow-x: auto;
      position: relative;
      padding-top: 50px;
    }
    .modal-body .code-full pre,
    .modal-body pre {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace !important;
      font-size: 13px !important;
      line-height: 1.55 !important;
      color: #a8d5ff !important;
      margin: 0 !important;
      white-space: pre !important;
      word-break: normal !important;
      overflow-x: auto !important;
      tab-size: 2;
    }
    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>
<body>
  <div class="book-container">
    <header>
      <h1>üìö –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</h1>
      <p class="subtitle">–°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞–º–∏</p>
      <p style="margin-top: 16px; opacity: 0.8;">–ö–æ–º–∞–Ω–¥–∞ 3 ¬∑ Node.js + Express + MongoDB + React</p>
      <p style="margin-top: 12px; font-size: 16px; color: #4dd0e1; opacity: 0.9;">
        ‚≠ê –£–≥–ª—É–±–ª–µ–Ω–Ω–æ–µ –∏–∑—É—á–µ–Ω–∏–µ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º —Ä–∞–∑–±–æ—Ä–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫
      </p>
    </header>

    <div class="toc">
      <h2>üìë –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</h2>
      <ul>
        <li><a href="#intro">–í–≤–µ–¥–µ–Ω–∏–µ</a></li>
        <li><a href="#chapter1">–ì–ª–∞–≤–∞ 1: –û—Å–Ω–æ–≤—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π</a></li>
        <li><a href="#chapter2">–ì–ª–∞–≤–∞ 2: Node.js –∏ Express (—É–≥–ª—É–±–ª–µ–Ω–Ω–æ)</a></li>
        <li><a href="#chapter3">–ì–ª–∞–≤–∞ 3: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö MongoDB (—É–≥–ª—É–±–ª–µ–Ω–Ω–æ)</a></li>
        <li><a href="#chapter4">–ì–ª–∞–≤–∞ 4: React Frontend (—É–≥–ª—É–±–ª–µ–Ω–Ω–æ)</a></li>
        <li><a href="#chapter5">–ì–ª–∞–≤–∞ 5: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</a></li>
        <li><a href="#chapter6">–ì–ª–∞–≤–∞ 6: –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</a></li>
        <li><a href="#chapter7">–ì–ª–∞–≤–∞ 7: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</a></li>
        <li><a href="#chapter8">–ì–ª–∞–≤–∞ 8: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</a></li>
        <li><a href="#chapter9">–ì–ª–∞–≤–∞ 9: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</a></li>
        <li><a href="#chapter10">–ì–ª–∞–≤–∞ 10: Docker –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ</a></li>
        <li><a href="#chapter11">–ì–ª–∞–≤–∞ 11: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</a></li>
        <li><a href="#chapter12">–ì–ª–∞–≤–∞ 12: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏</a></li>
        <li><a href="#checklist">‚úÖ –ß–µ–∫–ª–∏—Å—Ç –∑–∞–ø—É—Å–∫–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞</a></li>
      </ul>
    </div>

    <div id="intro" class="chapter">
      <h2>–í–≤–µ–¥–µ–Ω–∏–µ</h2>
      <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞–º–∏! –≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø—Ä–æ–≤–µ–¥–µ—Ç –≤–∞—Å —á–µ—Ä–µ–∑ –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞.</p>
      
      <div class="highlight-box">
        <strong>–ß—Ç–æ –≤—ã –∏–∑—É—á–∏—Ç–µ:</strong>
        <ul>
          <li>–û—Å–Ω–æ–≤—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ —à–∞–±–ª–æ–Ω–æ–≤</li>
          <li>–†–∞–∑—Ä–∞–±–æ—Ç–∫—É REST API –Ω–∞ Node.js –∏ Express</li>
          <li>–†–∞–±–æ—Ç—É —Å MongoDB —á–µ—Ä–µ–∑ Mongoose</li>
          <li>–°–æ–∑–¥–∞–Ω–∏–µ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –ø—Ä–∞–∫—Ç–∏–∫–∞–º–∏</li>
          <li>–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã</li>
          <li>–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é Docker</li>
        </ul>
      </div>

      <h3>–ß—Ç–æ —Ç–∞–∫–æ–µ —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞–º–∏?</h3>
      <p>–°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞–º–∏ ‚Äî —ç—Ç–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è, –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç:</p>
      <ul>
        <li>–û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —à–∞–±–ª–æ–Ω–∞—Ö</li>
        <li>–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –≤–µ—Ä—Å–∏–∏</li>
        <li>–°—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –≤–µ—Ä—Å–∏–∏ –º–µ–∂–¥—É —Å–æ–±–æ–π</li>
        <li>–û–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π</li>
        <li>–£–ø—Ä–∞–≤–ª—è—Ç—å –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º —à–∞–±–ª–æ–Ω–æ–≤</li>
      </ul>

      <div class="tip-box">
        –ò–∑—É—á–∞–π—Ç–µ –º–∞—Ç–µ—Ä–∏–∞–ª –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –≤—ã–ø–æ–ª–Ω—è—è –≤—Å–µ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è. –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –ª—É—á—à–µ —É—Å–≤–æ–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª.
      </div>
    </div>

    <div id="chapter1" class="chapter">
      <h2>–ì–ª–∞–≤–∞ 1: –û—Å–Ω–æ–≤—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π</h2>
      
      <h3>1.1 –ü–æ–Ω—è—Ç–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π</h3>
      <p>–ö–æ–Ω—Ç—Ä–æ–ª—å –≤–µ—Ä—Å–∏–π ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö –∏ —à–∞–±–ª–æ–Ω–∞—Ö. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –≤–µ—Ä—Å–∏–∏ –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –≤–µ—Ä—Å–∏–∏ –º–µ–∂–¥—É —Å–æ–±–æ–π. –í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞–º–∏ —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π.</p>

      <h3>1.2 –¶–µ–ª–∏ –∏ –∑–∞–¥–∞—á–∏ —Å–∏—Å—Ç–µ–º—ã</h3>
      <ul>
        <li><strong>–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π</strong> ‚Äî –ø–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–π —à–∞–±–ª–æ–Ω–æ–≤</li>
        <li><strong>–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π</strong> ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ª—é–±–æ–π –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏</li>
        <li><strong>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π</strong> ‚Äî –≤–∏–∑—É–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏</li>
        <li><strong>–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å</strong> ‚Äî –∫—Ç–æ, –∫–æ–≥–¥–∞ –∏ —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª</li>
        <li><strong>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º</strong> ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å —Å–æ—Å—Ç–æ—è–Ω–∏—è —à–∞–±–ª–æ–Ω–æ–≤ (–∞–∫—Ç–∏–≤–Ω—ã–π, –∞—Ä—Ö–∏–≤–Ω—ã–π, —á–µ—Ä–Ω–æ–≤–∏–∫)</li>
      </ul>

      <h3>1.3 –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</h3>
      <p>–°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π —à–∞–±–ª–æ–Ω–æ–≤ –≤–∫–ª—é—á–∞–µ—Ç:</p>
      <ul>
        <li><strong>–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> ‚Äî –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–æ–≤ –≤–µ—Ä—Å–∏–π (1.0, 1.1, 2.0 –∏ —Ç.–¥.)</li>
        <li><strong>–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π</strong> ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –≤–µ—Ä—Å–∏–π —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏</li>
        <li><strong>–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π</strong> ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≥–æ, —á—Ç–æ –±—ã–ª–æ –∏–∑–º–µ–Ω–µ–Ω–æ</li>
        <li><strong>–ê–≤—Ç–æ—Ä—Å—Ç–≤–æ</strong> ‚Äî –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–≤—Ç–æ—Ä–∞ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è</li>
        <li><strong>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π</strong> ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ</li>
      </ul>

      <div class="exercise">
        <h4>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ 1.1</h4>
        <p>–ü–æ–¥—É–º–∞–π—Ç–µ –æ —à–∞–±–ª–æ–Ω–∞—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –≤–∞—à–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏. –ö–∞–∫–∏–µ —Ç–∏–ø—ã —à–∞–±–ª–æ–Ω–æ–≤ –Ω—É–∂–¥–∞—é—Ç—Å—è –≤ –∫–æ–Ω—Ç—Ä–æ–ª–µ –≤–µ—Ä—Å–∏–π? –°–æ—Å—Ç–∞–≤—å—Ç–µ —Å–ø–∏—Å–æ–∫ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ —Å–∏—Å—Ç–µ–º–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π.</p>
      </div>
    </div>

    <div id="chapter2" class="chapter">
      <h2>–ì–ª–∞–≤–∞ 2: Node.js –∏ Express (—É–≥–ª—É–±–ª–µ–Ω–Ω–æ)</h2>

      <h3>2.1 –í–≤–µ–¥–µ–Ω–∏–µ –≤ Node.js –¥–ª—è –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏</h3>
      <p>Node.js ‚Äî —ç—Ç–æ —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è JavaScript –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –Ω–∞ –¥–≤–∏–∂–∫–µ V8. –ï–≥–æ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</p>
      <ul>
        <li><strong>–ï–¥–∏–Ω—ã–π —è–∑—ã–∫</strong> ‚Äî JavaScript –¥–ª—è frontend –∏ backend</li>
        <li><strong>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å</strong> ‚Äî –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–π I/O –¥–ª—è –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</li>
        <li><strong>–ë–æ–≥–∞—Ç–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞</strong> ‚Äî npm —Å –º–∏–ª–ª–∏–æ–Ω–∞–º–∏ –ø–∞–∫–µ—Ç–æ–≤</li>
        <li><strong>–ë—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞</strong> ‚Äî –ø—Ä–æ—Å—Ç–æ—Ç–∞ –∏ –≥–∏–±–∫–æ—Å—Ç—å</li>
        <li><strong>–ê–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ</strong> ‚Äî –ø–æ—Å—Ç–æ—è–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è</li>
      </ul>

      <h3 id="setup-section">2.2 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è</h3>
      <p>–î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js 18 –∏–ª–∏ –Ω–æ–≤–µ–µ:</p>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre># –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ Node.js
node --version
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: v18.x.x –∏–ª–∏ –≤—ã—à–µ

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ npm
npm --version

# –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
mkdir version-control-backend
cd version-control-backend
npm init -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install express mongoose cors dotenv express-validator jsonwebtoken bcryptjs
npm install --save-dev nodemon

# –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞
mkdir -p src/{config,models,routes,controllers,middleware,utils}
mkdir tests</pre>
      </div>

      <button class="show-code-btn" data-part="setup-requirements">üìã –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª–Ω—ã–π package.json</button>
      <button class="show-code-btn" data-part="express-architecture">üìã –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞</button>
      <button class="show-code-btn" data-part="setup-env-file">üìã –ü–æ–∫–∞–∑–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É .env —Ñ–∞–π–ª–∞</button>

      <h3>2.3 –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Express</h3>
      <p>Express ‚Äî –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –∏ –≥–∏–±–∫–∏–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Node.js. –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø–æ–º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:</p>
      
      <div class="highlight-box">
        <strong>–ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Express:</strong>
        <ul>
          <li><strong>Application</strong> ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –æ–±—ä–µ–∫—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</li>
          <li><strong>Router</strong> ‚Äî –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤</li>
          <li><strong>Middleware</strong> ‚Äî –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ –ü–û –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤</li>
          <li><strong>Request/Response</strong> ‚Äî –æ–±—ä–µ–∫—Ç—ã –∑–∞–ø—Ä–æ—Å–∞ –∏ –æ—Ç–≤–µ—Ç–∞</li>
          <li><strong>Error Handling</strong> ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</li>
        </ul>
      </div>

      <button class="show-code-btn" data-part="express-architecture">üìã –ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</button>

      <h3>2.4 –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ API —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º —Ä–∞–∑–±–æ—Ä–æ–º</h3>
      <p>–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª <code>src/app.js</code> —Å –±–∞–∑–æ–≤—ã–º API. –†–∞–∑–±–µ—Ä–µ–º –∫–∞–∂–¥—É—é —á–∞—Å—Ç—å:</p>
      <button class="show-code-btn" data-part="express-basic">üìã –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–¥ –±–∞–∑–æ–≤–æ–≥–æ Express –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</button>

      <h3>2.5 –†–æ—É—Ç–∏–Ω–≥ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è endpoints</h3>
      <p>–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ä–æ—É—Ç–æ–≤ –∫—Ä–∏—Ç–∏—á–Ω–∞ –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:</p>
      <button class="show-code-btn" data-part="express-routes">üìã –ü–æ–∫–∞–∑–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é —Ä–æ—É—Ç–æ–≤</button>

      <h3>2.6 Middleware –≤ Express</h3>
      <p>Middleware ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø –∫ –æ–±—ä–µ–∫—Ç–∞–º –∑–∞–ø—Ä–æ—Å–∞ (req), –æ—Ç–≤–µ—Ç–∞ (res) –∏ —Å–ª–µ–¥—É—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ middleware –≤ —Ü–∏–∫–ª–µ –∑–∞–ø—Ä–æ—Å-–æ—Ç–≤–µ—Ç. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:</p>
      <ul>
        <li>–í—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–¥ –Ω–∞ –ª—é–±–æ–º —ç—Ç–∞–ø–µ –∑–∞–ø—Ä–æ—Å–∞</li>
        <li>–ò–∑–º–µ–Ω—è—Ç—å –æ–±—ä–µ–∫—Ç—ã –∑–∞–ø—Ä–æ—Å–∞ –∏ –æ—Ç–≤–µ—Ç–∞</li>
        <li>–ó–∞–≤–µ—Ä—à–∞—Ç—å —Ü–∏–∫–ª –∑–∞–ø—Ä–æ—Å-–æ—Ç–≤–µ—Ç</li>
        <li>–í—ã–∑—ã–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π middleware –≤ —Å—Ç–µ–∫–µ</li>
      </ul>
      <button class="show-code-btn" data-part="express-middleware">üìã –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã Middleware</button>

      <h3>2.7 –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö —Å Mongoose (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ)</h3>
      <p>Mongoose ‚Äî —ç—Ç–æ ODM (Object Document Mapper) –¥–ª—è MongoDB. –û–Ω –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –∏ —É–¥–æ–±–Ω—É—é —Ä–∞–±–æ—Ç—É —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏:</p>
      <button class="show-code-btn" data-part="mongoose-models">üìã –ü–æ–∫–∞–∑–∞—Ç—å Mongoose –º–æ–¥–µ–ª–∏</button>

      <h3>2.8 –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö</h3>
      <p>–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∫—Ä–∏—Ç–∏—á–Ω–∞ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:</p>
      <button class="show-code-btn" data-part="express-validation">üìã –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏</button>

      <h3>2.9 –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π</h3>
      <p>–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —É–ª—É—á—à–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç –∏ —É–ø—Ä–æ—â–∞–µ—Ç –æ—Ç–ª–∞–¥–∫—É:</p>
      <button class="show-code-btn" data-part="express-error-handling">üìã –ü–æ–∫–∞–∑–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫</button>

      <h3>2.12 CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∞</h3>
      <p>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ CORS –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å React —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º:</p>
      <button class="show-code-btn" data-part="cors-setup">üìã –ü–æ–∫–∞–∑–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É CORS</button>

      <h3>2.13 –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π API –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Swagger/OpenAPI)</h3>
      <p>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è Express API:</p>
      <button class="show-code-btn" data-part="api-documentation">üìã –ü–æ–∫–∞–∑–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏</button>

      <div class="tip-box">
        <strong>–°–æ–≤–µ—Ç:</strong> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ –∞–¥—Ä–µ—Å—É /api-docs –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –±—ã—Å—Ç—Ä–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ endpoints.
      </div>

      <div class="warning-box">
        <strong>–í–∞–∂–Ω–æ:</strong> –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ async/await –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∏ –≤–Ω–µ—à–Ω–∏–º–∏ API. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ–≤—ã—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –¢–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ try-catch –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫.
      </div>

      <div class="exercise">
        <h4>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ 2.1</h4>
        <p>–°–æ–∑–¥–∞–π—Ç–µ Express –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –º–æ–¥—É–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π: —Ä–∞–∑–¥–µ–ª–∏—Ç–µ —Ä–æ—É—Ç—ã –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã, —Å–æ–∑–¥–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ MongoDB, –¥–æ–±–∞–≤—å—Ç–µ middleware –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤.</p>
      </div>

      <div class="exercise">
        <h4>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ 2.2</h4>
        <p>–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º JWT —Ç–æ–∫–µ–Ω–æ–≤. –°–æ–∑–¥–∞–π—Ç–µ endpoints –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –≤—Ö–æ–¥–∞ –∏ –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ endpoints, —Ç—Ä–µ–±—É—é—â–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤.</p>
      </div>

      <div class="exercise">
        <h4>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ 2.3</h4>
        <p>–°–æ–∑–¥–∞–π—Ç–µ WebSocket endpoint (–∏—Å–ø–æ–ª—å–∑—É—è Socket.io) –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö —à–∞–±–ª–æ–Ω–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.</p>
      </div>
    </div>

    <div id="chapter3" class="chapter">
      <h2>–ì–ª–∞–≤–∞ 3: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö MongoDB (—É–≥–ª—É–±–ª–µ–Ω–Ω–æ)</h2>

      <h3>3.1 –í–≤–µ–¥–µ–Ω–∏–µ –≤ MongoDB</h3>
      <p>MongoDB ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–æ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è NoSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö. –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π:</p>
      <ul>
        <li><strong>–ì–∏–±–∫–∞—è —Å—Ö–µ–º–∞</strong> ‚Äî –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø–æ–ª—è –±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–π</li>
        <li><strong>JSON-–ø–æ–¥–æ–±–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã</strong> ‚Äî –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤</li>
        <li><strong>–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å</strong> ‚Äî –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
        <li><strong>–ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫</strong> ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–∏—Å–∫–∞ –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É</li>
        <li><strong>–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> ‚Äî –ª–µ–≥–∫–æ —Ö—Ä–∞–Ω–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –≤–µ—Ä—Å–∏–π</li>
      </ul>

      <h3>3.2 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ MongoDB</h3>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre># Ubuntu/Debian
sudo apt update
sudo apt install -y mongodb

# –ò–ª–∏ —á–µ—Ä–µ–∑ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
docker run -d -p 27017:27017 --name mongodb mongo:latest

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
mongosh
# –ò–ª–∏
mongo
</pre>
      </div>

      <h3>3.3 Mongoose ODM</h3>
      <p>Mongoose ‚Äî —ç—Ç–æ ODM (Object Document Mapper) –¥–ª—è MongoDB, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö:</p>
      <button class="show-code-btn" data-part="mongoose-models">üìã –ü–æ–∫–∞–∑–∞—Ç—å Mongoose –º–æ–¥–µ–ª–∏</button>
      <button class="show-code-btn" data-part="config-database">üìã –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MongoDB</button>

      <h3>3.4 –°—Ö–µ–º—ã –∏ –º–æ–¥–µ–ª–∏</h3>
      <p>Mongoose –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ö–µ–º—ã –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:</p>
      <button class="show-code-btn" data-part="mongoose-schemas">üìã –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º</button>

      <h3>3.5 –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</h3>
      <p>–ò–Ω–¥–µ–∫—Å—ã —É—Å–∫–æ—Ä—è—é—Ç –ø–æ–∏—Å–∫ –∏ –∑–∞–ø—Ä–æ—Å—ã:</p>
      <button class="show-code-btn" data-part="mongodb-indexes">üìã –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤</button>

      <h3>3.6 –ó–∞–ø—Ä–æ—Å—ã –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏—è</h3>
      <p>Mongoose –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ—â–Ω—ã–π API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏:</p>
      <button class="show-code-btn" data-part="mongoose-queries">üìã –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤</button>

      <div class="warning-box">
        –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ–ª–µ–π (name, category, createdAt). –≠—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É—Å–∫–æ—Ä–∏—Ç –ø–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é.
      </div>

      <div class="exercise">
        <h4>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ 3.1</h4>
        <p>–°–æ–∑–¥–∞–π—Ç–µ –º–æ–¥–µ–ª–∏ Template –∏ Version —Å Mongoose. –†–µ–∞–ª–∏–∑—É–π—Ç–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ) –¥–ª—è –æ–±–µ–∏—Ö –º–æ–¥–µ–ª–µ–π. –î–æ–±–∞–≤—å—Ç–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–æ–∏—Å–∫–∞.</p>
      </div>
    </div>

    <div id="chapter4" class="chapter">
      <h2>–ì–ª–∞–≤–∞ 4: React Frontend (—É–≥–ª—É–±–ª–µ–Ω–Ω–æ)</h2>

      <h3>4.1 –í–≤–µ–¥–µ–Ω–∏–µ –≤ React</h3>
      <p>React ‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ JavaScript –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤. –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:</p>
      <ul>
        <li><strong>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã</strong> ‚Äî –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–ª–æ–∫–∏ UI</li>
        <li><strong>–°–æ—Å—Ç–æ—è–Ω–∏–µ (State)</strong> ‚Äî –¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞</li>
        <li><strong>Props</strong> ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏</li>
        <li><strong>Hooks</strong> ‚Äî —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (useState, useEffect, useContext)</li>
        <li><strong>–£—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥</strong> ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–æ —É—Å–ª–æ–≤–∏—é</li>
      </ul>

      <h3>4.2 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞</h3>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre># –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js –∏ npm
# –°–∫–∞—á–∞–π—Ç–µ —Å nodejs.org (–≤–µ—Ä—Å–∏—è 18+)

# –°–æ–∑–¥–∞–Ω–∏–µ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
npx create-react-app version-control-frontend
cd version-control-frontend

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install axios
npm install react-router-dom
npm install @mui/material @emotion/react @emotion/styled
npm install @mui/icons-material</pre>
      </div>

      <h3>4.3 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</h3>
      <p>–°–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π:</p>
      <button class="show-code-btn" data-part="react-structure">üìã –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</button>

      <h3>4.4 –†–∞–±–æ—Ç–∞ —Å API</h3>
      <p>–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±—ç–∫–µ–Ω–¥–æ–º:</p>
      <button class="show-code-btn" data-part="react-api">üìã –ü–æ–∫–∞–∑–∞—Ç—å API —Å–µ—Ä–≤–∏—Å</button>

      <h3>4.5 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–ø–∏—Å–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤</h3>
      <p>–†–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤:</p>
      <button class="show-code-btn" data-part="react-template-list">üìã –ü–æ–∫–∞–∑–∞—Ç—å TemplateList –∫–æ–º–ø–æ–Ω–µ–Ω—Ç</button>

      <h3>4.6 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å—Ç–æ—Ä–∏–∏ –≤–µ—Ä—Å–∏–π</h3>
      <p>–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –≤–µ—Ä—Å–∏–π —à–∞–±–ª–æ–Ω–∞:</p>
      <button class="show-code-btn" data-part="react-version-history">üìã –ü–æ–∫–∞–∑–∞—Ç—å VersionHistory –∫–æ–º–ø–æ–Ω–µ–Ω—Ç</button>

      <h3>4.7 –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å Hooks</h3>
      <p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ React Hooks –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º:</p>
      <button class="show-code-btn" data-part="react-hooks">üìã –ü–æ–∫–∞–∑–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Hooks</button>

      <div class="tip-box">
        –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ React DevTools –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
      </div>

      <div class="exercise">
        <h4>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ 4.1</h4>
        <p>–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ResultsTable –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–æ–≤–µ—Ä–∫–∏. –î–æ–±–∞–≤—å—Ç–µ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—é —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º CSS –º–æ–¥—É–ª–µ–π –∏–ª–∏ styled-components.</p>
      </div>
    </div>

    <div id="chapter5" class="chapter">
      <h2>–ì–ª–∞–≤–∞ 5: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h2>

      <h3>5.1 –ü—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã</h3>
      <p>–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ ‚Äî –æ—Å–Ω–æ–≤–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–≥–æ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:</p>
      <ul>
        <li><strong>–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (SoC)</strong> ‚Äî –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é –∑–∞–¥–∞—á—É</li>
        <li><strong>–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å</strong> ‚Äî –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–æ–¥—É–ª–∏</li>
        <li><strong>–°–ª–∞–±–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å</strong> ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç —á–µ—Ä–µ–∑ —á–µ—Ç–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</li>
        <li><strong>–í—ã—Å–æ–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å</strong> ‚Äî —ç–ª–µ–º–µ–Ω—Ç—ã –≤–Ω—É—Ç—Ä–∏ –º–æ–¥—É–ª—è —Ç–µ—Å–Ω–æ —Å–≤—è–∑–∞–Ω—ã</li>
      </ul>

      <h3>5.2 –°–ª–æ–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Layered Architecture)</h3>
      <p>–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–ª–æ–µ–≤: –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã, —Å–µ—Ä–≤–∏—Å—ã, –º–æ–¥–µ–ª–∏, —É—Ç–∏–ª–∏—Ç—ã.</p>

      <h3>5.3 Clean Architecture</h3>
      <p>Clean Architecture –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –æ—Ç —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ –∏ –ë–î.</p>

      <h3>5.4 –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</h3>
      <p>–î–ª—è –±–æ–ª—å—à–∏—Ö —Å–∏—Å—Ç–µ–º —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã.</p>

      <div class="exercise">
        <h4>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ 5.1</h4>
        <p>–†–µ–æ—Ä–≥–∞–Ω–∏–∑—É–π—Ç–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º Clean Architecture. –†–∞–∑–¥–µ–ª–∏—Ç–µ –∫–æ–¥ –Ω–∞ —Å–ª–æ–∏: domain, application, infrastructure, presentation.</p>
      </div>
    </div>

    <div id="chapter6" class="chapter">
      <h2>–ì–ª–∞–≤–∞ 6: –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h2>

      <h3>6.1 Repository Pattern</h3>
      <p>–ü–∞—Ç—Ç–µ—Ä–Ω Repository –∞–±—Å—Ç—Ä–∞–≥–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º, —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É.</p>

      <h3>6.2 Service Layer Pattern</h3>
      <p>Service Layer —Å–æ–¥–µ—Ä–∂–∏—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –æ—Ç–¥–µ–ª—è—è –µ—ë –æ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ –∏ –º–æ–¥–µ–ª–µ–π.</p>

      <h3>6.3 Factory Pattern</h3>
      <p>Factory Pattern –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤, –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–µ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ—Ä—Å–∏–π —à–∞–±–ª–æ–Ω–æ–≤.</p>

      <h3>6.4 Observer Pattern</h3>
      <p>Observer Pattern –¥–ª—è —Å–æ–±—ã—Ç–∏–π–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–æ–≤.</p>

      <div class="exercise">
        <h4>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ 6.1</h4>
        <p>–†–µ–∞–ª–∏–∑—É–π—Ç–µ Repository Pattern –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —à–∞–±–ª–æ–Ω–∞–º–∏. –°–æ–∑–¥–∞–π—Ç–µ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è MongoDB —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Mongoose.</p>
      </div>
    </div>

    <div id="chapter7" class="chapter">
      <h2>–ì–ª–∞–≤–∞ 7: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</h2>

      <h3>7.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CORS</h3>
      <p>CORS (Cross-Origin Resource Sharing) –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è —Å–≤—è–∑–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∏ –±—ç–∫–µ–Ω–¥–∞:</p>
      <button class="show-code-btn" data-part="cors-setup">üìã –ü–æ–∫–∞–∑–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É CORS</button>

      <h3>7.2 –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</h3>
      <p>–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫:</p>
      <button class="show-code-btn" data-part="express-error-handling">üìã –ü–æ–∫–∞–∑–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫</button>

      <h3>7.3 –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö</h3>
      <p>–û–±–µ—Å–ø–µ—á—å—Ç–µ –≤–∞–ª–∏–¥–∞—Ü–∏—é –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∏ —Å–µ—Ä–≤–µ—Ä–µ:</p>
      <button class="show-code-btn" data-part="express-validation">üìã –ü–æ–∫–∞–∑–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é</button>

      <h3>7.4 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏</h3>
      <p>–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:</p>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre># üöÄ –ó–∞–ø—É—Å–∫ –±—ç–∫–µ–Ω–¥–∞
cd backend
npm install
npm run dev

# üöÄ –ó–∞–ø—É—Å–∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
cd frontend
npm install
npm start
npm start

# üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
curl http://localhost:5000/health
curl http://localhost:5000/api/templates

# üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:5000/api-docs</pre>
      </div>

      <div class="exercise">
        <h4>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ 7.1</h4>
        <p>–†–µ–∞–ª–∏–∑—É–π—Ç–µ –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª: –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ ‚Üí –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ –±—ç–∫–µ–Ω–¥ ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î ‚Üí –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ.</p>
      </div>
    </div>

    <div id="chapter8" class="chapter">
      <h2>–ì–ª–∞–≤–∞ 8: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</h2>

      <h3>8.1 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö</h3>
      <p>–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫—Ä–∏—Ç–∏—á–Ω–∞ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:</p>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre>// ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ MongoDB:

// 1Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω–¥–µ–∫—Å—ã
templateSchema.index({ name: 1 }); // –ò–Ω–¥–µ–∫—Å –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
templateSchema.index({ category: 1, isActive: 1 }); // –°–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å

// 2Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ populate –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è N+1 –ø—Ä–æ–±–ª–µ–º—ã
const templates = await Template.find()
    .populate('versions')
    .exec();

// 3Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ select –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã—Ö –ø–æ–ª–µ–π
const templates = await Template.find()
    .select('name category currentVersion')
    .exec();

// 4Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞–≥–∏–Ω–∞—Ü–∏—é
const templates = await Template.find()
    .skip((page - 1) * limit)
    .limit(limit)
    .exec();

// 5Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ lean() –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–±–µ–∑ Mongoose –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)
const templates = await Template.find().lean();

// 6Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–≥—Ä–µ–≥–∞—Ü–∏—é –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
const stats = await Template.aggregate([
    { $match: { isActive: true } },
    { $group: { _id: '$category', count: { $sum: 1 } } }
]);

// 7Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ connection pooling (–Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ Mongoose)
mongoose.connect(uri, {
    maxPoolSize: 10,
    minPoolSize: 5
});</pre>
      </div>

      <h3>8.2 –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
      <p>–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö —É—Å–∫–æ—Ä—è–µ—Ç —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:</p>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre>// üíæ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:

// 1Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
const redis = require('redis');
const client = redis.createClient({ host: 'localhost', port: 6379 });

router.get('/templates/:id', async (req, res) => {
    const { id } = req.params;
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—ç—à
    const cached = await client.get(\`template:\${id}\`);
    if (cached) {
        return res.json(JSON.parse(cached));
    }
    
    // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–∑ –ë–î
    const template = await Template.findById(id);
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∫—ç—à –Ω–∞ 1 —á–∞—Å
    await client.setEx(\`template:\${id}\`, 3600, JSON.stringify(template));
    
    res.json(template);
});

// 2Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ node-cache –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –ø–∞–º—è—Ç–∏
const NodeCache = require('node-cache');
const cache = new NodeCache({ stdTTL: 600 }); // TTL 10 –º–∏–Ω—É—Ç

const getTemplateByCode = async (code) => {
    const cacheKey = \`template-code:\${code}\`;
    const cached = cache.get(cacheKey);
    if (cached) return cached;
    
    const template = await Template.findOne({ code });
    cache.set(cacheKey, template);
    return template;
};</pre>
      </div>

      <h3>8.3 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞</h3>
      <p>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —É–ª—É—á—à–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç:</p>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre>// ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è React:

// 1Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ React.memo –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ª–∏—à–Ω–∏—Ö —Ä–µ–Ω–¥–µ—Ä–æ–≤
const TemplateCard = React.memo(({ template }) => {
  return <div>{template.name}</div>;
});

// 2Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ useMemo –¥–ª—è –¥–æ—Ä–æ–≥–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
const expensiveValue = useMemo(() => {
  return templates.filter(t => t.isActive).map(t => t.name);
}, [templates]);

// 3Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ useCallback –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π
const handleClick = useCallback(() => {
  // –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞
}, [dependencies]);

// 4Ô∏è‚É£ –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
const LazyComponent = React.lazy(() => import('./LazyComponent'));

// 5Ô∏è‚É£ –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤ –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
import { FixedSizeList } from 'react-window';

// 6Ô∏è‚É£ Code splitting
// webpack –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–¥–µ–ª—è–µ—Ç –∫–æ–¥ –Ω–∞ —á–∞–Ω–∫–∏</pre>
      </div>

      <h3>8.4 –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h3>
      <p>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π –∞—Å–ø–µ–∫—Ç –ª—é–±–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –†–∞—Å—Å–º–æ—Ç—Ä–∏–º –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏:</p>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre># üîê –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

# 1Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è —Å–µ–∫—Ä–µ—Ç–æ–≤
# ‚ùå –ü–ª–æ—Ö–æ:
SECRET_KEY = "hardcoded-secret-key"

# ‚úÖ –•–æ—Ä–æ—à–æ:
SECRET_KEY = os.getenv('SECRET_KEY')

// 2Ô∏è‚É£ –í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –≤—Å–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ express-validator –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
const { body, validationResult } = require('express-validator');

// 3Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –≤ production
// –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL/TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

// 4Ô∏è‚É£ –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ JWT —Ç–æ–∫–µ–Ω—ã, OAuth2

// 5Ô∏è‚É£ –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ —Ä–∞–∑–º–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤
const MAX_FILE_SIZE = 10 * 1024 * 1024; // 10MB

// 6Ô∏è‚É£ –ó–∞—â–∏—Ç–∞ –æ—Ç NoSQL-–∏–Ω—ä–µ–∫—Ü–∏–π
// Mongoose –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç NoSQL-–∏–Ω—ä–µ–∫—Ü–∏–π
// –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

// 7Ô∏è‚É£ –ó–∞—â–∏—Ç–∞ –æ—Ç XSS
// –≠–∫—Ä–∞–Ω–∏—Ä—É–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥
const escapeHtml = (text) => {
    return text.replace(/[&<>"']/g, (m) => {
        const map = { '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#039;' };
        return map[m];
    });
};

// 8Ô∏è‚É£ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
// –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –¥–æ–º–µ–Ω—ã
app.use(cors({
    origin: ['http://localhost:3000'],
    credentials: true
}));</pre>
      </div>

      <h3>8.5 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</h3>
      <p>–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–º–æ–≥–∞—é—Ç –Ω–∞–π—Ç–∏ —É–∑–∫–∏–µ –º–µ—Å—Ç–∞:</p>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre>// üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

// 1Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ autocannon –∏–ª–∏ wrk –¥–ª—è –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
// npm install -g autocannon
// autocannon -c 100 -d 30 http://localhost:5000/api/templates
import pytest

def test_standard_query_performance(benchmark):
    result = benchmark(
        lambda: db.query(Standard).filter(Standard.active == True).all()
    )
    assert len(result) > 0

# 2Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ cProfile –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è
import cProfile
import pstats

profiler = cProfile.Profile()
profiler.enable()
# –í–∞—à –∫–æ–¥
profiler.disable()
stats = pstats.Stats(profiler)
stats.sort_stats('cumulative')
stats.print_stats(20)  # –¢–æ–ø 20 —Ñ—É–Ω–∫—Ü–∏–π

// 3Ô∏è‚É£ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞ API
app.use((req, res, next) => {
    const startTime = Date.now();
    res.on('finish', () => {
        const processTime = Date.now() - startTime;
        res.setHeader('X-Process-Time', processTime.toString());
    });
    next();
});</pre>
      </div>
    </div>

    <div id="chapter9" class="chapter">
      <h2>–ì–ª–∞–≤–∞ 9: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>

      <h3>9.1 –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h3>
      <p>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π –∞—Å–ø–µ–∫—Ç –ª—é–±–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –†–∞—Å—Å–º–æ—Ç—Ä–∏–º –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏:</p>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre>// üîê –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

// 1Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è —Å–µ–∫—Ä–µ—Ç–æ–≤
// ‚ùå –ü–ª–æ—Ö–æ:
const SECRET_KEY = "hardcoded-secret-key";

// ‚úÖ –•–æ—Ä–æ—à–æ:
const SECRET_KEY = process.env.SECRET_KEY;

// 2Ô∏è‚É£ –í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –≤—Å–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ express-validator –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
const { body, validationResult } = require('express-validator');

// 3Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –≤ production
// –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL/TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

// 4Ô∏è‚É£ –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ JWT —Ç–æ–∫–µ–Ω—ã, OAuth2

// 5Ô∏è‚É£ –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ —Ä–∞–∑–º–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤
const MAX_FILE_SIZE = 10 * 1024 * 1024; // 10MB

// 6Ô∏è‚É£ –ó–∞—â–∏—Ç–∞ –æ—Ç NoSQL-–∏–Ω—ä–µ–∫—Ü–∏–π
// Mongoose –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç NoSQL-–∏–Ω—ä–µ–∫—Ü–∏–π
// –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

// 7Ô∏è‚É£ –ó–∞—â–∏—Ç–∞ –æ—Ç XSS
// –≠–∫—Ä–∞–Ω–∏—Ä—É–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥
const escapeHtml = (text) => {
    return text.replace(/[&<>"']/g, (m) => {
        const map = { '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#039;' };
        return map[m];
    });
};

// 8Ô∏è‚É£ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
// –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –¥–æ–º–µ–Ω—ã
app.use(cors({
    origin: ['http://localhost:3000'],
    credentials: true
}));</pre>
      </div>

      <h3>9.2 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
      <p>–ù–∞–ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:</p>
      <button class="show-code-btn" data-part="testing">üìã –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤</button>

      <h3>9.3 –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</h3>
      <p>–•–æ—Ä–æ—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:</p>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre>// üìù –ü—Ä–∏–º–µ—Ä—ã —Ö–æ—Ä–æ—à–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:

// 1Ô∏è‚É£ JSDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ JavaScript –∫–æ–¥–µ
/**
 * –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —à–∞–±–ª–æ–Ω
 * @param {Object} templateData - –î–∞–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω–∞
 * @param {string} templateData.name - –ù–∞–∑–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞
 * @param {string} templateData.category - –ö–∞—Ç–µ–≥–æ—Ä–∏—è —à–∞–±–ª–æ–Ω–∞
 * @param {string} templateData.content - –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —à–∞–±–ª–æ–Ω–∞
 * @returns {Promise<Object>} –°–æ–∑–¥–∞–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω
 */
async function createTemplate(templateData) {
    """
    –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –Ω–æ—Ä–º–æ–∫–æ–Ω—Ç—Ä–æ–ª—è.
    
    Args:
        rule_code: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥ –ø—Ä–∞–≤–∏–ª–∞ (–º–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞)
        description: –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞ (–º–∏–Ω–∏–º—É–º 10 —Å–∏–º–≤–æ–ª–æ–≤)
    
    Returns:
        Standard: –°–æ–∑–¥–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞
    
    Raises:
        ValueError: –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø—Ä–æ—à–ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é
    
    Example:
        >>> standard = create_standard("RULE_001", "–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π")
        >>> print(standard.rule_code)
        RULE_001
    """
    # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è...

// 2Ô∏è‚É£ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API endpoints
/**
 * @route POST /api/templates
 * @desc –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —à–∞–±–ª–æ–Ω
 * @access Private
 * @param {Object} req.body - –î–∞–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω–∞
 * @param {string} req.body.name - –ù–∞–∑–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞
 * @param {string} req.body.category - –ö–∞—Ç–µ–≥–æ—Ä–∏—è —à–∞–±–ª–æ–Ω–∞
 * @param {string} req.body.content - –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —à–∞–±–ª–æ–Ω–∞
 * @returns {Object} 201 - –°–æ–∑–¥–∞–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω
 * @returns {Object} 400 - –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
 */
router.post('/templates', async (req, res) => {
    // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è...
});

# 3Ô∏è‚É£ README.md —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
# –°–º. —Ä–∞–∑–¥–µ–ª "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞" –≤—ã—à–µ

// 4Ô∏è‚É£ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Å–ª–æ–∂–Ω—ã–º —É—á–∞—Å—Ç–∫–∞–º
// –≠—Ç–æ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º A* –¥–ª—è –ø–æ–∏—Å–∫–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –ø—É—Ç–∏
// –°–ª–æ–∂–Ω–æ—Å—Ç—å: O(n log n), –≥–¥–µ n - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤</pre>
      </div>

      <h3>9.4 –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
      <p>–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:</p>
      <button class="show-code-btn" data-part="logging">üìã –ü–æ–∫–∞–∑–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è</button>

      <div class="highlight-box">
        <strong>–ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ production:</strong>
        <ul>
          <li>‚úì –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã</li>
          <li>‚úì –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞</li>
          <li>‚úì –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç</li>
          <li>‚úì –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω</li>
          <li>‚úì –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞</li>
          <li>‚úì –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ</li>
        </ul>
      </div>
    </div>

    <div id="chapter10" class="chapter">
      <h2>–ì–ª–∞–≤–∞ 10: Docker –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ</h2>

      <h3>10.1 –í–≤–µ–¥–µ–Ω–∏–µ –≤ Docker</h3>
      <p>Docker –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø–∞–∫–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –≤—Å–µ –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:</p>
      <ul>
        <li><strong>–ò–∑–æ–ª—è—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è</strong> ‚Äî –∫–∞–∂–¥–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–≤–æ–µ–º –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ</li>
        <li><strong>–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –º–µ–∂–¥—É —Å—Ä–µ–¥–∞–º–∏</strong> ‚Äî –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏ production</li>
        <li><strong>–£–ø—Ä–æ—â–µ–Ω–∏–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è</strong> ‚Äî –æ–¥–∏–Ω –æ–±—Ä–∞–∑ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ</li>
        <li><strong>–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å</strong> ‚Äî –ª–µ–≥–∫–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</li>
        <li><strong>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏</strong> ‚Äî –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É–ø–∞–∫–æ–≤–∞–Ω—ã –≤ –æ–±—Ä–∞–∑</li>
      </ul>

      <h3>10.2 Dockerfile –¥–ª—è Backend</h3>
      <p>Dockerfile –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫ —Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑ –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:</p>
      <button class="show-code-btn" data-part="dockerfile-backend">üìã –ü–æ–∫–∞–∑–∞—Ç—å Dockerfile –¥–ª—è Backend</button>

      <h3>10.3 Dockerfile –¥–ª—è Frontend</h3>
      <p>–î–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –Ω—É–∂–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π Dockerfile –¥–ª—è —Å–±–æ—Ä–∫–∏ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:</p>
      <button class="show-code-btn" data-part="dockerfile-frontend">üìã –ü–æ–∫–∞–∑–∞—Ç—å Dockerfile –¥–ª—è Frontend</button>

      <h3>10.4 Docker Compose</h3>
      <p>Docker Compose —É–ø—Ä–æ—â–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã, –∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ:</p>
      <button class="show-code-btn" data-part="docker-compose">üìã –ü–æ–∫–∞–∑–∞—Ç—å docker-compose.yml</button>

      <h3>10.5 –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ</h3>
      <p>–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è Docker Compose —Ñ–∞–π–ª–∞ –º–æ–∂–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –†–∞—Å—Å–º–æ—Ç—Ä–∏–º –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:</p>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre># üì¶ –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up --build

# üîÑ –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
docker-compose up -d

# üìã –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose logs -f

# üìã –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose logs -f backend
docker-compose logs -f frontend

# ‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose down

# üóëÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º volumes (–æ—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö)
docker-compose down -v

# ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps

# üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose restart backend

# üßπ –û—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –æ–±—Ä–∞–∑–æ–≤
docker system prune -a

# üìä –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats</pre>
      </div>

      <h3>10.6 –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Docker</h3>
      <p>–î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:</p>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre># .env –¥–ª—è docker-compose (Team3: Express + MongoDB + React)
#
# Backend
PORT=5000
MONGODB_URI=mongodb://rosatom_user:rosatom_pass@mongo:27017/version_control?authSource=admin
CORS_ORIGIN=http://localhost:3000
JWT_SECRET=change-me-in-prod
LOG_LEVEL=info

# (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) Redis, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –∫—ç—à/–æ—á–µ—Ä–µ–¥–∏
REDIS_URL=redis://redis:6379/0

# (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) Sentry
SENTRY_DSN=

# Frontend (Create React App —á–∏—Ç–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º REACT_APP_)
REACT_APP_API_BASE_URL=http://localhost:5000/api

# –í docker-compose.yml –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
# environment:
#   - PORT=${PORT}
#   - MONGODB_URI=${MONGODB_URI}
#   - CORS_ORIGIN=${CORS_ORIGIN}
#   - JWT_SECRET=${JWT_SECRET}
#
# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
# env_file:
#   - .env</pre>
      </div>

      <h3>10.7 Production —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ</h3>
      <p>–î–ª—è production —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≤–∞–∂–Ω–æ:</p>
      <ul>
        <li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å multi-stage builds –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–±—Ä–∞–∑–æ–≤</li>
        <li>–ù–∞—Å—Ç—Ä–æ–∏—Ç—å health checks –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤</li>
        <li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å secrets –¥–ª—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</li>
        <li>–ù–∞—Å—Ç—Ä–æ–∏—Ç—å reverse proxy (Nginx) –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞</li>
        <li>–ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSL/TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã</li>
        <li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å orchestration (Kubernetes, Docker Swarm) –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è</li>
      </ul>

      <div class="exercise">
        <h4>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ 10.1</h4>
        <p>–°–æ–∑–¥–∞–π—Ç–µ Docker Compose —Ñ–∞–π–ª –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º. –î–æ–±–∞–≤—å—Ç–µ health checks –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.</p>
      </div>
    </div>

    <div id="chapter11" class="chapter">
      <h2>–ì–ª–∞–≤–∞ 11: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>

      <h3>11.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
      <p>–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–º–æ–≥–∞–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –Ω–∞—Ö–æ–¥–∏—Ç—å –æ—à–∏–±–∫–∏ –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –†–∞—Å—Å–º–æ—Ç—Ä–∏–º –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:</p>
      <button class="show-code-btn" data-part="logging">üìã –ü–æ–∫–∞–∑–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è</button>

      <h3>11.2 –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
      <p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π:</p>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre>// üìù –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (Node.js):
// DEBUG - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
console.debug('–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...');

// INFO - –æ–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞–±–æ—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
console.info('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω');

// WARNING - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö
console.warn('–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω —É—Å—Ç–∞—Ä–µ–≤—à–∏–π API endpoint');

// ERROR - –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç —Ä–∞–±–æ—Ç—É
console.error('–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å email', { err });

// CRITICAL - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏, —Ç—Ä–µ–±—É—é—â–∏–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è
console.error('CRITICAL: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞!');

// ‚úÖ –î–ª—è production –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ª–æ–≥–≥–µ—Ä (pino/winston)
// npm i pino pino-pretty
// const pino = require('pino')({ level: process.env.LOG_LEVEL || 'info' });</pre>
      </div>

      <h3>11.3 –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
      <p>–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É–ø—Ä–æ—â–∞–µ—Ç –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤:</p>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre>// üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (Node.js):
// npm i pino pino-pretty
const pino = require('pino');
const logger = pino({
  level: process.env.LOG_LEVEL || 'info',
  base: { service: 'version-control' }
});

// –õ–æ–≥ –∑–∞–ø—Ä–æ—Å–∞
logger.info({
  type: 'http_request',
  method: 'GET',
  path: '/api/templates',
  statusCode: 200,
  durationMs: 45
}, 'request');

// –õ–æ–≥ –æ—à–∏–±–∫–∏
logger.error({
  type: 'error',
  err: { message: 'Invalid input' },
  context: { userId: 123 }
}, 'error');</pre>
      </div>

      <h3>11.4 –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h3>
      <p>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ—à–∏–±–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:</p>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre>// üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Node.js + Express):
// 1Ô∏è‚É£ Prometheus –º–µ—Ç—Ä–∏–∫–∏
// npm i prom-client
const promClient = require('prom-client');
const register = promClient.register;

const requestCount = new promClient.Counter({
  name: 'http_requests_total',
  help: 'Total HTTP requests',
  labelNames: ['method', 'endpoint', 'status']
});

const requestDuration = new promClient.Histogram({
  name: 'http_request_duration_seconds',
  help: 'HTTP request duration',
  labelNames: ['method', 'endpoint']
});

app.use((req, res, next) => {
  const start = Date.now();
  res.on('finish', () => {
    const durationSec = (Date.now() - start) / 1000;
    requestCount.labels(req.method, req.route?.path || req.path, String(res.statusCode)).inc();
    requestDuration.labels(req.method, req.route?.path || req.path).observe(durationSec);
  });
  next();
});

app.get('/metrics', async (req, res) => {
  res.setHeader('Content-Type', register.contentType);
  res.end(await register.metrics());
});

// 2Ô∏è‚É£ Sentry (–æ—à–∏–±–∫–∏)
// npm i @sentry/node
const Sentry = require('@sentry/node');
Sentry.init({ dsn: process.env.SENTRY_DSN, environment: process.env.NODE_ENV });

// 3Ô∏è‚É£ Health check
app.get('/health', async (req, res) => {
  const dbOk = await checkDatabase();
  res.json({
    status: dbOk ? 'healthy' : 'unhealthy',
    database: dbOk ? 'connected' : 'disconnected',
    timestamp: new Date().toISOString()
  });
});

// 4Ô∏è‚É£ APM (Application Performance Monitoring)
// New Relic / Datadog / Elastic APM ‚Äî –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –∫–∞–∫ –∞–≥–µ–Ω—Ç—ã</pre>
      </div>

      <h3>11.5 –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª—ã</h3>
      <p>–î–ª—è production –≤–∞–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ª–æ–≥–∏ –≤ —Ñ–∞–π–ª—ã —Å —Ä–æ—Ç–∞—Ü–∏–µ–π:</p>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre>// üìÅ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª—ã —Å —Ä–æ—Ç–∞—Ü–∏–µ–π (Node.js):
// npm i winston winston-daily-rotate-file
const winston = require('winston');
require('winston-daily-rotate-file');

const transport = new winston.transports.DailyRotateFile({
  filename: 'logs/app-%DATE%.log',
  datePattern: 'YYYY-MM-DD',
  zippedArchive: true,
  maxSize: '10m',
  maxFiles: '5d'
});

const logger = winston.createLogger({
  level: process.env.LOG_LEVEL || 'info',
  format: winston.format.combine(
    winston.format.timestamp(),
    winston.format.json()
  ),
  transports: [transport, new winston.transports.Console()]
});

logger.info('server started');</pre>
      </div>

      <div class="exercise">
        <h4>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ 11.1</h4>
        <p>–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –î–æ–±–∞–≤—å—Ç–µ –º–µ—Ç—Ä–∏–∫–∏ Prometheus –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ Sentry –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫.</p>
      </div>
    </div>

    <div id="chapter12" class="chapter">
      <h2>–ì–ª–∞–≤–∞ 12: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏</h2>

      <h3>12.1 –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–¥–∞—á</h3>
      <p>–í —Å–∏—Å—Ç–µ–º–µ –≤–µ—Ä—Å–∏–π —á–∞—Å—Ç–æ –ø–æ—è–≤–ª—è—é—Ç—Å—è ‚Äú—Ç—è–∂—ë–ª—ã–µ‚Äù –æ–ø–µ—Ä–∞—Ü–∏–∏: –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ diff –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–≤—å—é, –ø—Ä–æ–≤–µ—Ä–∫–∞ —à–∞–±–ª–æ–Ω–∞ –ø—Ä–∞–≤–∏–ª–∞–º–∏, –º–∞—Å—Å–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç. –¢–∞–∫–∏–µ –∑–∞–¥–∞—á–∏ –ª—É—á—à–µ –≤—ã–Ω–æ—Å–∏—Ç—å –≤ –æ—á–µ—Ä–µ–¥—å (worker), —á—Ç–æ–±—ã API –æ—Ç–≤–µ—á–∞–ª–æ –±—ã—Å—Ç—Ä–æ.</p>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre>// ‚úÖ –ü—Ä–∏–º–µ—Ä –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á: BullMQ + Redis
// npm i bullmq ioredis
//
// backend/src/queue/connection.js
const IORedis = require('ioredis');
const connection = new IORedis(process.env.REDIS_URL);
module.exports = { connection };

// backend/src/queue/jobs.js
const { Queue } = require('bullmq');
const { connection } = require('./connection');
const versionQueue = new Queue('versionQueue', { connection });
module.exports = { versionQueue };

// backend/src/controllers/versionController.js (—Ñ—Ä–∞–≥–º–µ–Ω—Ç)
const { versionQueue } = require('../queue/jobs');
// –ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏ —Å—Ç–∞–≤–∏–º –∑–∞–¥–∞—á—É –Ω–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ diff
await versionQueue.add('computeDiff', { versionId: createdVersion._id });

// backend/src/worker.js
const { Worker } = require('bullmq');
const { connection } = require('./queue/connection');
const Version = require('./models/Version');

new Worker('versionQueue', async (job) =&gt; {
  if (job.name === 'computeDiff') {
    const v = await Version.findById(job.data.versionId);
    if (!v) return;
    // –ó–¥–µ—Å—å –≤—ã—á–∏—Å–ª–∏—Ç–µ diff (–Ω–∞–ø—Ä–∏–º–µ—Ä, line-by-line) –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ –ø–æ–ª–µ v.diff
    v.diff = { summary: 'computed', at: new Date().toISOString() };
    await v.save();
  }
}, { connection });

// package.json scripts (–ø—Ä–∏–º–µ—Ä)
// "dev": "nodemon src/server.js"
// "worker": "node src/worker.js"</pre>
      </div>
      <div class="tip-box">
        –ß—Ç–æ–±—ã —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ ‚Äú–∑–∞—Ä–∞–±–æ—Ç–∞–ª–æ‚Äù, Redis –∏ –≤–æ—Ä–∫–µ—Ä –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç API:
        <div class="code-block" style="margin-top: 12px;">
          <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
          <pre># Redis (–µ—Å–ª–∏ –Ω–µ –≤ docker-compose)
docker run -d --name redis -p 6379:6379 redis:7

# –í –æ–¥–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ: API
cd backend &amp;&amp; npm run dev

# –í–æ –≤—Ç–æ—Ä–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ: worker
cd backend &amp;&amp; npm run worker</pre>
        </div>
      </div>

      <h4 style="margin-top: 18px; color: var(--accent);">12.1.1 –ü–æ–ª–Ω—ã–π –º–∏–Ω–∏–º—É–º ‚Äú–ø–æ–¥ –∫–ª—é—á‚Äù: server + app + endpoint –≤–µ—Ä—Å–∏–∏</h4>
      <p style="margin-bottom: 12px;">–ù–∏–∂–µ ‚Äî —Ü–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã, —á—Ç–æ–±—ã —ç—Ç–æ –∑–∞–ø—É—Å–∫–∞–ª–æ—Å—å –±–µ–∑ ‚Äú–¥–æ–≥–∞–¥–∞–π—Ç–µ—Å—å —Å–∞–º–∏‚Äù: API –ø–æ–¥–Ω–∏–º–∞–µ—Ç HTTP + Socket.io, —Å–æ–∑–¥–∞—ë—Ç –≤–µ—Ä—Å–∏—é —à–∞–±–ª–æ–Ω–∞, —Å—Ç–∞–≤–∏—Ç –∑–∞–¥–∞—á—É –≤ –æ—á–µ—Ä–µ–¥—å –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ –≤ UI.</p>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre>// backend/src/app.js
require('dotenv').config();
const express = require('express');
const cors = require('cors');
const helmet = require('helmet');
const mongoose = require('mongoose');

const templatesRoutes = require('./routes/templates');
const versionsRoutes = require('./routes/versions');

const app = express();

app.use(express.json({ limit: '2mb' }));
app.use(helmet());

app.use(cors({
  origin: (process.env.CORS_ORIGIN || '').split(',').filter(Boolean),
  credentials: true
}));

app.get('/health', async (req, res) =&gt; {
  res.json({
    status: 'ok',
    mongoReadyState: mongoose.connection.readyState
  });
});

app.use('/api', templatesRoutes);
app.use('/api', versionsRoutes);

module.exports = app;</pre>
      </div>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre>// backend/src/server.js
require('dotenv').config();
const http = require('http');
const mongoose = require('mongoose');
const { Server } = require('socket.io');
const app = require('./app');

const PORT = Number(process.env.PORT || 5000);

async function start() {
  await mongoose.connect(process.env.MONGODB_URI);

  const server = http.createServer(app);
  const io = new Server(server, {
    cors: { origin: (process.env.CORS_ORIGIN || '').split(',').filter(Boolean) }
  });
  app.set('io', io);

  server.listen(PORT, () =&gt; {
    console.log('API listening on http://localhost:' + PORT);
  });
}

start().catch((err) =&gt; {
  console.error(err);
  process.exit(1);
});</pre>
      </div>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre>// backend/src/routes/versions.js
const router = require('express').Router();
const Template = require('../models/Template');
const Version = require('../models/Version');
const { versionQueue } = require('../queue/jobs');

// POST /api/templates/:templateId/versions
// –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é —à–∞–±–ª–æ–Ω–∞, —Å—Ç–∞–≤–∏—Ç –∑–∞–¥–∞—á—É computeDiff –∏ —É–≤–µ–¥–æ–º–ª—è–µ—Ç UI
router.post('/templates/:templateId/versions', async (req, res, next) =&gt; {
  try {
    const { templateId } = req.params;
    const { content, message } = req.body;

    const tpl = await Template.findById(templateId);
    if (!tpl) return res.status(404).json({ error: 'Template not found' });

    const createdVersion = await Version.create({
      template: tpl._id,
      content,
      message: message || 'update',
      createdAt: new Date()
    });

    tpl.currentVersion = createdVersion._id;
    await tpl.save();

    // –æ—á–µ—Ä–µ–¥—å –Ω–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ diff (–µ—Å–ª–∏ –ø–æ–¥–∫–ª—é—á—ë–Ω REDIS_URL –∏ –∑–∞–ø—É—â–µ–Ω worker)
    if (process.env.REDIS_URL) {
      await versionQueue.add('computeDiff', { versionId: createdVersion._id });
    }

    // WebSocket —Å–æ–±—ã—Ç–∏–µ –≤ UI
    const io = req.app.get('io');
    if (io) {
      io.emit('template-changed', {
        templateId: String(tpl._id),
        versionId: String(createdVersion._id),
        event: 'version_created'
      });
    }

    res.status(201).json(createdVersion);
  } catch (err) {
    next(err);
  }
});

module.exports = router;</pre>
      </div>

      <h3>12.2 WebSockets –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π</h3>
      <p>WebSockets –ø–æ–∑–≤–æ–ª—è—é—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ —É–≤–µ–¥–æ–º–ª—è—Ç—å UI, —á—Ç–æ —à–∞–±–ª–æ–Ω –æ–±–Ω–æ–≤–∏–ª—Å—è, –ø–æ—è–≤–∏–ª–∞—Å—å –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –∏–ª–∏ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —Ñ–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, diff –≥–æ—Ç–æ–≤).</p>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre>// ‚úÖ Socket.io (server + client)
// npm i socket.io
//
// backend/src/server.js (—Ñ—Ä–∞–≥–º–µ–Ω—Ç)
const http = require('http');
const { Server } = require('socket.io');
const app = require('./app');
const server = http.createServer(app);
const io = new Server(server, {
  cors: { origin: (process.env.CORS_ORIGIN || '').split(',').filter(Boolean) }
});
app.set('io', io);

io.on('connection', (socket) =&gt; {
  socket.on('disconnect', () =&gt; {});
});

// ‚ö†Ô∏è –í–∞–∂–Ω–æ: —Å–ª—É—à–∞–µ–º —á–µ—Ä–µ–∑ server.listen (–∞ –Ω–µ app.listen)
// server.listen(PORT, () =&gt; console.log('listening'));

// backend/src/controllers/templateController.js (—Ñ—Ä–∞–≥–º–µ–Ω—Ç)
// const io = req.app.get('io');
// io.emit('template-changed', { templateId: tpl._id, event: 'updated' });

// frontend/src/realtime/socket.js (–ø—Ä–∏–º–µ—Ä)
// npm i socket.io-client
import { io } from 'socket.io-client';
export const socket = io('http://localhost:5000');
socket.on('template-changed', (payload) =&gt; {
  // –æ–±–Ω–æ–≤–∏—Ç–µ —Å–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤ / –∏—Å—Ç–æ—Ä–∏—é –≤–µ—Ä—Å–∏–π
});</pre>
      </div>
      <div class="tip-box">
        –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ React (—á—Ç–æ–±—ã ‚Äú–≤–∏–¥–Ω–æ —Ä–∞–±–æ—Ç–∞–ª–æ‚Äù): –ø–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ —Å–æ–±—ã—Ç–∏–µ –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ.
        <div class="code-block" style="margin-top: 12px;">
          <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
          <pre>// frontend/src/components/TemplateList.jsx (—Ñ—Ä–∞–≥–º–µ–Ω—Ç)
import { useEffect } from 'react';
import { socket } from '../realtime/socket';

export function TemplateList() {
  // –¥–æ–ø—É—Å—Ç–∏–º, —É –≤–∞—Å –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è loadTemplates()
  useEffect(() =&gt; {
    const handler = () =&gt; {
      // loadTemplates();
    };
    socket.on('template-changed', handler);
    return () =&gt; socket.off('template-changed', handler);
  }, []);

  return null;
}</pre>
        </div>
      </div>

      <h3>12.3 –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</h3>
      <p>–ö–æ–≥–¥–∞ –ø—Ä–æ–¥—É–∫—Ç –≤—ã—Ä–∞—Å—Ç–µ—Ç, –∏–º–µ–µ—Ç —Å–º—ã—Å–ª —Ä–∞–∑–¥–µ–ª–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –Ω–∞ —Å–µ—Ä–≤–∏—Å—ã: —à–∞–±–ª–æ–Ω—ã, –≤–µ—Ä—Å–∏–∏, –∞—É–¥–∏—Ç, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –ø–æ–∏—Å–∫. –≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ.</p>
      <ul>
        <li><strong>templates-service</strong>: CRUD —à–∞–±–ª–æ–Ω–æ–≤, —Å—Ç–∞—Ç—É—Å—ã, –ø—É–±–ª–∏–∫–∞—Ü–∏—è</li>
        <li><strong>versions-service</strong>: –≤–µ—Ä—Å–∏–∏, diff, –æ—Ç–∫–∞—Ç—ã, —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ</li>
        <li><strong>audit-service</strong>: –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π –∂—É—Ä–Ω–∞–ª —Å–æ–±—ã—Ç–∏–π (–∫—Ç–æ/—á—Ç–æ/–∫–æ–≥–¥–∞)</li>
        <li><strong>notifications-service</strong>: WebSocket/SSE, email, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏</li>
        <li><strong>api-gateway</strong>: –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, auth, rate limit</li>
      </ul>
      <div class="tip-box">
        –î–ª—è –æ–±–º–µ–Ω–∞ —Å–æ–±—ã—Ç–∏—è–º–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—á–µ—Ä–µ–¥—å/—à–∏–Ω—É: Redis Streams, RabbitMQ –∏–ª–∏ Kafka. –ù–∞–ø—Ä–∏–º–µ—Ä: ‚ÄúTemplateUpdated‚Äù ‚Üí versions-service –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç diff ‚Üí notifications-service –ø—É—à–∏—Ç —Å–æ–±—ã—Ç–∏–µ –≤ UI.
      </div>

      <h3>12.4 CI/CD Pipeline</h3>
      <p>–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–π—Ç–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é CI/CD. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞:</p>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre># üîÑ CI/CD Pipeline (GitHub Actions) –¥–ª—è Node.js + Docker:

# .github/workflows/ci.yml
name: CI

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  backend:
    runs-on: ubuntu-latest
    defaults:
      run:
        working-directory: backend
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: 18
          cache: npm
          cache-dependency-path: backend/package-lock.json
      - run: npm ci
      - run: npm test --if-present

  frontend:
    runs-on: ubuntu-latest
    defaults:
      run:
        working-directory: frontend
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: 18
          cache: npm
          cache-dependency-path: frontend/package-lock.json
      - run: npm ci
      - run: npm test --if-present

  docker:
    runs-on: ubuntu-latest
    needs: [backend, frontend]
    steps:
      - uses: actions/checkout@v4
      - run: docker compose build</pre>
      </div>

      <h3>12.5 Serverless —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ</h3>
      <p>–î–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ serverless —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:</p>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre># ‚òÅÔ∏è Serverless (Node.js + Express) –Ω–∞ AWS Lambda:

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
npm install --save-dev serverless
npm install serverless-http

# handler.js (–æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è Express)
const serverless = require('serverless-http');
const app = require('./src/app');

module.exports.handler = serverless(app);

# serverless.yml (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä)
service: version-control-api

provider:
  name: aws
  runtime: nodejs18.x
  region: eu-central-1

functions:
  api:
    handler: handler.handler
    events:
      - httpApi: '*'

# –î–µ–ø–ª–æ–π
# npx serverless deploy</pre>
      </div>

      <h3>12.6 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AI/ML</h3>
      <p>–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–æ–≥—É—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å AI/ML —Å–µ—Ä–≤–∏—Å–∞–º–∏:</p>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre># ü§ñ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AI/ML:

// –ü—Ä–∏–º–µ—Ä: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤ (Node.js)
// npm i @xenova/transformers
const { pipeline } = require('@xenova/transformers');

let classifierPromise = pipeline('text-classification', 'Xenova/bert-base-uncased');

router.post('/api/analyze-template', async (req, res) => {
  try {
    const classifier = await classifierPromise;
    const result = await classifier(req.body.content);

    const complianceScore = calculateCompliance(result);
    res.json({
      compliance_score: complianceScore,
      recommendations: generateRecommendations(result)
    });
  } catch (err) {
    res.status(500).json({ error: err.message });
  }
});</pre>
      </div>

      <div class="exercise">
        <h4>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ 12.1</h4>
        <p>–ù–∞—Å—Ç—Ä–æ–π—Ç–µ CI/CD pipeline –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –î–æ–±–∞–≤—å—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ª–∏–Ω—Ç–∏–Ω–≥ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ. –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è GraphQL –¥–ª—è –≥–∏–±–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–∞–Ω–Ω—ã—Ö.</p>
      </div>
    </div>

    <div id="checklist" class="chapter">
      <h2>‚úÖ –ß–µ–∫–ª–∏—Å—Ç –∑–∞–ø—É—Å–∫–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞</h2>

      <div class="highlight-box">
        <strong>–¶–µ–ª—å:</strong> –ø–æ–ª—É—á–∏—Ç—å –≥–æ—Ç–æ–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç ¬´–∫–æ–Ω—Ç—Ä–æ–ª—å –≤–µ—Ä—Å–∏–π –∏ —à–∞–±–ª–æ–Ω–æ–≤¬ª (Express API + MongoDB + React UI), –æ—Ç–∫—Ä—ã—Ç—å Swagger –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–∑–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (—à–∞–±–ª–æ–Ω—ã + –≤–µ—Ä—Å–∏–∏).
      </div>

      <h3>1) –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)</h3>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre># –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É, –≥–¥–µ –ª–µ–∂–∏—Ç –≤–∞—à docker-compose.yml
cd &lt;project-root&gt;

# –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ (—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤)
docker-compose up --build

# –ò–ª–∏ –≤ —Ñ–æ–Ω–µ:
docker-compose up -d --build

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps</pre>
      </div>

      <h3>1.2) –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –±–µ–∑ Docker (Express + MongoDB + React)</h3>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre># 0) –ü–æ–¥–Ω–∏–º–∏—Ç–µ MongoDB (–≤–∞—Ä–∏–∞–Ω—Ç: —á–µ—Ä–µ–∑ Docker —Ç–æ–ª—å–∫–æ –¥–ª—è –ë–î)
docker run -d --name mongo -p 27017:27017 mongo:7

# 1) Backend (Node.js + Express)
cd &lt;project-root&gt;/backend
npm install

# –ü—Ä–∏–º–µ—Ä .env (–ª–æ–∫–∞–ª—å–Ω–æ)
# PORT=5000
# MONGODB_URI=mongodb://localhost:27017/version_control
# CORS_ORIGIN=http://localhost:3000

npm run dev || npm start

# 2) Frontend (React) ‚Äî –≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
cd &lt;project-root&gt;/frontend
npm install

# –ü—Ä–∏–º–µ—Ä .env (frontend)
# REACT_APP_API_BASE_URL=http://localhost:5000/api

npm start</pre>
      </div>

      <h3>2) –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ–¥—É–∫—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ</h3>
      <ul>
        <li><strong>Swagger (API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è):</strong> <code>http://localhost:5000/api-docs</code></li>
        <li><strong>API (base):</strong> <code>http://localhost:5000/api</code></li>
        <li><strong>Frontend (React UI):</strong> <code>http://localhost:3000</code></li>
      </ul>

      <h3>3) –ú–∏–Ω–∏-–ø—Ä–æ–≤–µ—Ä–∫–∞ API (–∫–æ–º–∞–Ω–¥–æ–π)</h3>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <pre># Health-check
curl http://localhost:5000/health

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤ (–¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON-–º–∞—Å—Å–∏–≤ –∏–ª–∏ –æ–±—ä–µ–∫—Ç —Å –¥–∞–Ω–Ω—ã–º–∏)
curl http://localhost:5000/api/templates</pre>
      </div>

      <h3>4) –ú–∏–Ω–∏-–ø—Ä–æ–≤–µ—Ä–∫–∞ UI</h3>
      <ul>
        <li><strong>UI –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è</strong> –ø–æ <code>http://localhost:3000</code></li>
        <li><strong>UI –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ API</strong> (DevTools ‚Üí Network –≤–∏–¥–Ω—ã –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ <code>http://localhost:5000/api</code>)</li>
        <li><strong>–ë–∞–∑–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π:</strong> —Å–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω ‚Üí –≤–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ ‚Üí —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é ‚Üí –æ—Ç–∫—Ä—ã—Ç—å —Å–ø–∏—Å–æ–∫ –≤–µ—Ä—Å–∏–π</li>
      </ul>

      <h3>5) –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –±—ã—Å—Ç—Ä—ã–µ —Ä–µ—à–µ–Ω–∏—è</h3>
      <div class="warning-box">
        <strong>–ü–æ—Ä—Ç –∑–∞–Ω—è—Ç (3000/5000/27017):</strong> –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç—ã –≤ <code>docker-compose.yml</code>.<br>
        <strong>CORS:</strong> –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ backend —Ä–∞–∑—Ä–µ—à—ë–Ω origin <code>http://localhost:3000</code> (—Å–º. —Ä–∞–∑–¥–µ–ª –ø—Ä–æ CORS).<br>
        <strong>MongoDB –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞:</strong> –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è <code>MONGODB_URI</code> –∏ –ª–æ–≥–∏ <code>docker-compose logs -f mongo</code>.
      </div>
    </div>

    <div class="chapter">
      <h2>–ó–∞–∫–ª—é—á–µ–Ω–∏–µ</h2>
      <p>–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –ø—Ä–æ—à–ª–∏ –ø–æ–ª–Ω—ã–π –∫—É—Ä—Å –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞–º–∏. –¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–Ω–∞–Ω–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Node.js, Express, MongoDB –∏ React.</p>
      
      <div class="highlight-box">
        <strong>–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:</strong>
        <ul>
          <li>–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å, —Å–æ–∑–¥–∞–≤–∞—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</li>
          <li>–ò–∑—É—á–∞–π—Ç–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ–º—ã –∫–∞–∂–¥–æ–π —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</li>
          <li>–£—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ open-source –ø—Ä–æ–µ–∫—Ç–∞—Ö</li>
          <li>–ß–∏—Ç–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏ –±–ª–æ–≥–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</li>
        </ul>
      </div>

      <p style="margin-top: 32px; text-align: center; font-size: 18px; color: var(--accent);">
        –£–¥–∞—á–∏ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ! üöÄ
      </p>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ —Å –∫–æ–¥–æ–º -->
  <div id="modal-container"></div>

  <script>
    const codeExamples = {
      'express-architecture': {
        title: '–°—Ç—Ä—É–∫—Ç—É—Ä–∞ Express –ø—Ä–æ–µ–∫—Ç–∞',
        content: `
          <div class="code-section">
            <h3>üìÅ –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">–°–æ–∑–¥–∞–π—Ç–µ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">
version-control-backend/      # üì¶ –ì–ª–∞–≤–Ω–∞—è –ø–∞–ø–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ package.json              # üìã –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ .env                      # üîê –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îÇ
‚îú‚îÄ‚îÄ src/                      # üìÅ –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ app.js                # ‚≠ê –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ server.js             # ‚≠ê –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ config/               # ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.js        # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MongoDB
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.js         # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ models/               # üì¶ Mongoose –º–æ–¥–µ–ª–∏ (—Å—Ö–µ–º—ã –ë–î)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Template.js       # –ú–æ–¥–µ–ª—å —à–∞–±–ª–æ–Ω–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Version.js        # –ú–æ–¥–µ–ª—å –≤–µ—Ä—Å–∏–∏
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ routes/               # üåê –†–æ—É—Ç—ã (endpoints)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ templates.js      # –†–æ—É—Ç—ã –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ versions.js       # –†–æ—É—Ç—ã –¥–ª—è –≤–µ—Ä—Å–∏–π
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ controllers/          # üéÆ –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ templateController.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ versionController.js
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ middleware/          # üîß Middleware
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.js           # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ errorHandler.js   # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ logger.js         # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ utils/                # üõ†Ô∏è –£—Ç–∏–ª–∏—Ç—ã
‚îÇ       ‚îî‚îÄ‚îÄ validators.js     # –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îÇ
‚îî‚îÄ‚îÄ tests/                    # üß™ –¢–µ—Å—Ç—ã
    ‚îî‚îÄ‚îÄ routes/
        ‚îî‚îÄ‚îÄ templates.test.js
</pre>
            </div>
          </div>
        `
      },
      'express-basic': {
        title: '–ë–∞–∑–æ–≤–æ–µ Express –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ',
        content: `
          <div class="code-section">
            <h3>üìù –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª src/app.js</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª <code>src/app.js</code> —Å –±–∞–∑–æ–≤—ã–º API:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">
// src/app.js - –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

// üì¶ –ò–º–ø–æ—Ä—Ç—ã
const express = require('express');
const cors = require('cors');
const dotenv = require('dotenv');
const connectDB = require('./config/database');

// üîê –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
dotenv.config();

// üöÄ –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
const app = express();

// üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CORS (—Ä–∞–∑—Ä–µ—à–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞)
app.use(cors({
    origin: ['http://localhost:3000', 'http://localhost:5173'],  // URL –≤–∞—à–µ–≥–æ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    credentials: true,
    methods: ['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'OPTIONS'],
    allowedHeaders: ['Content-Type', 'Authorization']
}));

// üìù Middleware –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON
app.use(express.json());
app.use(express.urlencoded({ extended: true }));

// üîå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
connectDB();

// üåê –†–æ—É—Ç—ã
app.use('/api/templates', require('./routes/templates'));
app.use('/api/versions', require('./routes/versions'));

// üè† –ë–∞–∑–æ–≤—ã–π —Ä–æ—É—Ç
app.get('/', (req, res) => {
    res.json({ 
        message: '–°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞–º–∏ API',
        version: '1.0.0'
    });
});

// ‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ 404
app.use((req, res) => {
    res.status(404).json({ error: '–ú–∞—Ä—à—Ä—É—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω' });
});

// ‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
app.use(require('./middleware/errorHandler'));

module.exports = app;
</pre>
            </div>

            <h3 style="margin-top: 24px;">üìù –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª src/server.js</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª <code>src/server.js</code> –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">
// src/server.js - –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

const app = require('./app');

const PORT = process.env.PORT || 5000;

// ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
app.listen(PORT, () => {
    console.log('‚úÖ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É ' + PORT);
    console.log('üìö API –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:' + PORT);
});

// ‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
process.on('unhandledRejection', (err) => {
    console.error('‚ùå –ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞:', err);
    process.exit(1);
});
</pre>
            </div>
          </div>
        `
      },
      'setup-requirements': {
        title: '–ü–æ–ª–Ω—ã–π package.json',
        content: `
          <div class="code-section">
            <h3>üìã –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª package.json</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª <code>package.json</code> –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">{
  "name": "version-control-backend",
  "version": "1.0.0",
  "description": "–°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞–º–∏",
  "main": "src/server.js",
  "scripts": {
    "start": "node src/server.js",
    "dev": "nodemon src/server.js",
    "test": "jest"
  },
  "dependencies": {
    "express": "^4.18.2",
    "mongoose": "^7.5.0",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "express-validator": "^7.0.1",
    "jsonwebtoken": "^9.0.2",
    "bcryptjs": "^2.4.3"
  },
  "devDependencies": {
    "nodemon": "^3.0.1",
    "jest": "^29.7.0"
  }
}</pre>
            </div>
          </div>
        `
      },
      'setup-env-file': {
        title: '–ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env —Ñ–∞–π–ª–∞',
        content: `
          <div class="code-section">
            <h3>üîê –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª <code>.env</code> –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;"># .env - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

# üåê –°–µ—Ä–≤–µ—Ä
PORT=5000
NODE_ENV=development

# üíæ MongoDB
MONGODB_URI=mongodb://localhost:27017/version_control
# –ò–ª–∏ –¥–ª—è Docker:
# MONGODB_URI=mongodb://mongo:27017/version_control

# üîê JWT
JWT_SECRET=your_super_secret_jwt_key_change_in_production
JWT_EXPIRE=7d

# üîí CORS
CORS_ORIGIN=http://localhost:3000</pre>
            </div>
          </div>
        `
      },
      'express-routes': {
        title: 'Express —Ä–æ—É—Ç—ã',
        content: `
          <div class="code-section">
            <h3>üìù –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª src/routes/templates.js</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">–°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É <code>src/routes/</code> –∏ —Ñ–∞–π–ª <code>templates.js</code>:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">// src/routes/templates.js - –†–æ—É—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —à–∞–±–ª–æ–Ω–∞–º–∏

// üì¶ –ò–º–ø–æ—Ä—Ç—ã
const express = require('express');
const router = express.Router();  // –°–æ–∑–¥–∞–Ω–∏–µ —Ä–æ—É—Ç–µ—Ä–∞
const templateController = require('../controllers/templateController');

// üìã GET /api/templates - –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤
router.get('/', templateController.getTemplates);

// üìã GET /api/templates/:id - –ü–æ–ª—É—á–∏—Ç—å –æ–¥–∏–Ω —à–∞–±–ª–æ–Ω
router.get('/:id', templateController.getTemplate);

// üìã POST /api/templates - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —à–∞–±–ª–æ–Ω
router.post('/', templateController.createTemplate);

// üìã PUT /api/templates/:id - –û–±–Ω–æ–≤–∏—Ç—å —à–∞–±–ª–æ–Ω
router.put('/:id', templateController.updateTemplate);

// üìã DELETE /api/templates/:id - –£–¥–∞–ª–∏—Ç—å —à–∞–±–ª–æ–Ω
router.delete('/:id', templateController.deleteTemplate);

// üìã GET /api/templates/:id/versions - –ü–æ–ª—É—á–∏—Ç—å –≤–µ—Ä—Å–∏–∏ —à–∞–±–ª–æ–Ω–∞
router.get('/:id/versions', templateController.getTemplateVersions);

// üì§ –≠–∫—Å–ø–æ—Ä—Ç —Ä–æ—É—Ç–µ—Ä–∞
module.exports = router;
</pre>
            </div>

            <h3 style="margin-top: 24px;">üìù –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–æ—É—Ç—ã –≤ src/app.js</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">–î–æ–±–∞–≤—å—Ç–µ —ç—Ç–∏ —Å—Ç—Ä–æ–∫–∏ –≤ —Ñ–∞–π–ª <code>src/app.js</code> –ø–æ—Å–ª–µ middleware:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">// src/app.js

const express = require('express');
const cors = require('cors');
const connectDB = require('./config/database');

// üì¶ –ò–º–ø–æ—Ä—Ç —Ä–æ—É—Ç–æ–≤
const templateRoutes = require('./routes/templates');
const versionRoutes = require('./routes/versions');

const app = express();
connectDB();

// Middleware
app.use(cors());
app.use(express.json());

// üîó –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–æ—É—Ç–æ–≤
// –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ /api/templates –±—É–¥—É—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è templateRoutes
app.use('/api/templates', templateRoutes);

// –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ /api/versions –±—É–¥—É—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è versionRoutes
app.use('/api/versions', versionRoutes);

module.exports = app;
</pre>
            </div>
          </div>
        `
      },
      'mongoose-models': {
        title: 'Mongoose –º–æ–¥–µ–ª–∏ –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤ –∏ –≤–µ—Ä—Å–∏–π',
        content: `
          <div class="code-section">
            <h3>üìù –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª src/models/Template.js</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">–ú–æ–¥–µ–ª—å —à–∞–±–ª–æ–Ω–∞ —Å Mongoose:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">// src/models/Template.js

const mongoose = require('mongoose');

const templateSchema = new mongoose.Schema({
    name: { 
        type: String, 
        required: true, 
        unique: true, 
        trim: true, 
        index: true 
    },
    description: { 
        type: String, 
        default: '' 
    },
    category: { 
        type: String, 
        required: true, 
        index: true 
    },
    content: { 
        type: String, 
        required: true 
    }, // –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —à–∞–±–ª–æ–Ω–∞
    currentVersion: { 
        type: Number, 
        default: 1 
    },
    tags: [{ 
        type: String, 
        trim: true 
    }],
    isActive: { 
        type: Boolean, 
        default: true 
    },
    createdBy: { 
        type: String, 
        required: true 
    },
    updatedBy: { 
        type: String 
    }
}, {
    timestamps: true // –î–æ–±–∞–≤–ª—è–µ—Ç createdAt –∏ updatedAt
});

// –¢–µ–∫—Å—Ç–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å –¥–ª—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞
templateSchema.index({
    name: 'text',
    description: 'text',
    content: 'text',
    tags: 'text'
});

module.exports = mongoose.model('Template', templateSchema);
</pre>
            </div>

            <h3 style="margin-top: 24px;">üìù –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª src/models/Version.js</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">–ú–æ–¥–µ–ª—å –≤–µ—Ä—Å–∏–∏ —à–∞–±–ª–æ–Ω–∞:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">// src/models/Version.js

const mongoose = require('mongoose');

const versionSchema = new mongoose.Schema({
    templateId: {
        type: mongoose.Schema.Types.ObjectId,
        ref: 'Template',
        required: true,
        index: true
    },
    versionNumber: { 
        type: Number, 
        required: true 
    },
    content: { 
        type: String, 
        required: true 
    },
    changes: [{
        field: String,
        oldValue: String,
        newValue: String,
        changeType: {
            type: String,
            enum: ['added', 'modified', 'deleted']
        }
    }],
    changeDescription: { 
        type: String, 
        required: true 
    },
    createdBy: { 
        type: String, 
        required: true 
    }
}, {
    timestamps: true
});

// –°–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å
versionSchema.index({ templateId: 1, versionNumber: 1 });

module.exports = mongoose.model('Version', versionSchema);
</pre>
            </div>
          </div>
        `
      },
      'express-middleware': {
        title: 'Express Middleware',
        content: `
          <div class="code-section">
            <h3>üìù –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª src/middleware/errorHandler.js</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">// src/middleware/errorHandler.js

const errorHandler = (err, req, res, next) => {
    console.error(err.stack); // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–µ–∫–∞ –æ—à–∏–±–∫–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

    // –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç express-validator)
    if (err.array) {
        return res.status(400).json({
            error: '–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏',
            details: err.array()
        });
    }

    // –û—à–∏–±–∫–∞ –∫–∞—Å—Ç–∞ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π ID)
    if (err.name === 'CastError') {
        return res.status(400).json({
            error: '–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π ID'
        });
    }

    // –û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
    if (err.name === 'JsonWebTokenError') {
        return res.status(401).json({
            error: '–ù–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω'
        });
    }

    // –û–±—â–∞—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
    res.status(err.status || 500).json({
        error: err.message || '–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞',
        ...(process.env.NODE_ENV === 'development' && { stack: err.stack })
    });
};

module.exports = errorHandler;
</pre>
            </div>
          </div>
        `
      },
      'express-validation': {
        title: '–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö',
        content: `
          <div class="code-section">
            <h3>üìù –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª src/middleware/validators.js</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">–í–∞–ª–∏–¥–∞—Ü–∏—è —Å express-validator:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">// src/middleware/validators.js

const { body, validationResult } = require('express-validator');

// –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è —à–∞–±–ª–æ–Ω–∞
const validateTemplate = [
    body('name')
        .trim()
        .isLength({ min: 3 })
        .withMessage('–ù–∞–∑–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 3 —Å–∏–º–≤–æ–ª–æ–≤'),
    body('category')
        .trim()
        .notEmpty()
        .withMessage('–ö–∞—Ç–µ–≥–æ—Ä–∏—è —à–∞–±–ª–æ–Ω–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞'),
    body('content')
        .trim()
        .isLength({ min: 10 })
        .withMessage('–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —à–∞–±–ª–æ–Ω–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 10 —Å–∏–º–≤–æ–ª–æ–≤'),
    (req, res, next) => {
        const errors = validationResult(req);
        if (!errors.isEmpty()) {
            return res.status(400).json({ errors: errors.array() });
        }
        next();
    }
];

module.exports = { validateTemplate };
</pre>
            </div>
          </div>
        `
      },
      'express-error-handling': {
        title: '–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫',
        content: `
          <div class="code-section">
            <h3>üìù –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª src/controllers/templateController.js</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">// src/controllers/templateController.js

const Template = require('../models/Template');
const Version = require('../models/Version');

// GET /api/templates - –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤
exports.getTemplates = async (req, res, next) => {
    try {
        const templates = await Template.find({ isActive: true })
            .sort({ createdAt: -1 })
            .limit(10);
        
        res.json(templates);
    } catch (error) {
        next(error); // –ü–µ—Ä–µ–¥–∞—á–∞ –æ—à–∏–±–∫–∏ –≤ errorHandler
    }
};

// GET /api/templates/:id - –ü–æ–ª—É—á–∏—Ç—å –æ–¥–∏–Ω —à–∞–±–ª–æ–Ω
exports.getTemplate = async (req, res, next) => {
    try {
        const template = await Template.findById(req.params.id);
        
        if (!template) {
            return res.status(404).json({ error: '–®–∞–±–ª–æ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω' });
        }
        
        res.json(template);
    } catch (error) {
        next(error);
    }
};

// POST /api/templates - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —à–∞–±–ª–æ–Ω
exports.createTemplate = async (req, res, next) => {
    try {
        const template = new Template(req.body);
        await template.save();
        
        res.status(201).json(template);
    } catch (error) {
        next(error);
    }
};

// PUT /api/templates/:id - –û–±–Ω–æ–≤–∏—Ç—å —à–∞–±–ª–æ–Ω
exports.updateTemplate = async (req, res, next) => {
    try {
        const template = await Template.findByIdAndUpdate(
            req.params.id,
            req.body,
            { new: true, runValidators: true }
        );
        
        if (!template) {
            return res.status(404).json({ error: '–®–∞–±–ª–æ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω' });
        }
        
        res.json(template);
    } catch (error) {
        next(error);
    }
};

// DELETE /api/templates/:id - –£–¥–∞–ª–∏—Ç—å —à–∞–±–ª–æ–Ω
exports.deleteTemplate = async (req, res, next) => {
    try {
        const template = await Template.findByIdAndDelete(req.params.id);
        
        if (!template) {
            return res.status(404).json({ error: '–®–∞–±–ª–æ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω' });
        }
        
        res.json({ message: '–®–∞–±–ª–æ–Ω —É–¥–∞–ª–µ–Ω', template });
    } catch (error) {
        next(error);
    }
};

// GET /api/templates/:id/versions - –ü–æ–ª—É—á–∏—Ç—å –≤–µ—Ä—Å–∏–∏ —à–∞–±–ª–æ–Ω–∞
exports.getTemplateVersions = async (req, res, next) => {
    try {
        const versions = await Version.find({ templateId: req.params.id })
            .sort({ versionNumber: -1 });
        
        res.json(versions);
    } catch (error) {
        next(error);
    }
};
</pre>
            </div>
          </div>
        `
      },
      'config-database': {
        title: '–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MongoDB',
        content: `
          <div class="code-section">
            <h3>üìù –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª src/config/database.js</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MongoDB —á–µ—Ä–µ–∑ Mongoose:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">// src/config/database.js

const mongoose = require('mongoose');

const connectDB = async () => {
    try {
        const conn = await mongoose.connect(process.env.MONGODB_URI, {
            useNewUrlParser: true,
            useUnifiedTopology: true,
        });

        console.log('‚úÖ MongoDB –ø–æ–¥–∫–ª—é—á–µ–Ω–∞: ' + conn.connection.host);
    } catch (error) {
        console.error('‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ MongoDB:', error.message);
        process.exit(1);
    }
};

module.exports = connectDB;
</pre>
            </div>
          </div>
        `
      },
      'mongoose-schemas': {
        title: '–°–æ–∑–¥–∞–Ω–∏–µ Mongoose —Å—Ö–µ–º',
        content: `
          <div class="code-section">
            <h3>üìù –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å—Ö–µ–º Mongoose</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">Mongoose –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ —Å—Ö–µ–º—ã —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">// src/models/Template.js - –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ö–µ–º–∞

const mongoose = require('mongoose');

const templateSchema = new mongoose.Schema({
    name: { 
        type: String, 
        required: [true, '–ù–∞–∑–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ'],
        unique: true,
        trim: true,
        minlength: [3, '–ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 3 —Å–∏–º–≤–æ–ª–æ–≤'],
        maxlength: [100, '–ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–µ –±–æ–ª–µ–µ 100 —Å–∏–º–≤–æ–ª–æ–≤']
    },
    description: { 
        type: String, 
        default: '',
        maxlength: [500, '–û–ø–∏—Å–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–µ –±–æ–ª–µ–µ 500 —Å–∏–º–≤–æ–ª–æ–≤']
    },
    category: { 
        type: String, 
        required: true,
        enum: ['technical', 'legal', 'administrative', 'other'],
        index: true
    },
    content: { 
        type: String, 
        required: [true, '–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —à–∞–±–ª–æ–Ω–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ'],
        minlength: [10, '–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 10 —Å–∏–º–≤–æ–ª–æ–≤']
    },
    currentVersion: { 
        type: Number, 
        default: 1,
        min: [1, '–í–µ—Ä—Å–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 1']
    },
    tags: [{ 
        type: String, 
        trim: true,
        lowercase: true
    }],
    isActive: { 
        type: Boolean, 
        default: true 
    },
    createdBy: { 
        type: String, 
        required: true 
    },
    updatedBy: { 
        type: String 
    }
}, {
    timestamps: true,
    toJSON: { virtuals: true },
    toObject: { virtuals: true }
});

// –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ –¥–ª—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤–µ—Ä—Å–∏–π
templateSchema.virtual('versionCount', {
    ref: 'Version',
    localField: '_id',
    foreignField: 'templateId',
    count: true
});

module.exports = mongoose.model('Template', templateSchema);
</pre>
            </div>
          </div>
        `
      },
      'mongodb-indexes': {
        title: '–°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ MongoDB',
        content: `
          <div class="code-section">
            <h3>üìù –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">–ò–Ω–¥–µ–∫—Å—ã —É—Å–∫–æ—Ä—è—é—Ç –ø–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">// src/models/Template.js - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤

// –û–¥–∏–Ω–æ—á–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã
templateSchema.index({ name: 1 }); // –ò–Ω–¥–µ–∫—Å –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
templateSchema.index({ category: 1 }); // –ò–Ω–¥–µ–∫—Å –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
templateSchema.index({ createdAt: -1 }); // –ò–Ω–¥–µ–∫—Å –ø–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è (—É–±—ã–≤–∞–Ω–∏–µ)

// –°–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Å—Ç–∞—Ç—É—Å—É
templateSchema.index({ category: 1, isActive: 1 });

// –¢–µ–∫—Å—Ç–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å –¥–ª—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞
templateSchema.index({
    name: 'text',
    description: 'text',
    content: 'text',
    tags: 'text'
});

// –£–Ω–∏–∫–∞–ª—å–Ω—ã–π —Å–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å
templateSchema.index({ name: 1, category: 1 }, { unique: true });
</pre>
            </div>
          </div>
        `
      },
      'mongoose-queries': {
        title: '–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ Mongoose',
        content: `
          <div class="code-section">
            <h3>üìù –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –¥–∞–Ω–Ω—ã–º–∏</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">–ü—Ä–∏–º–µ—Ä—ã CRUD –æ–ø–µ—Ä–∞—Ü–∏–π:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">// –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ Mongoose

const Template = require('./models/Template');

// 1. –ù–∞–π—Ç–∏ –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã
const templates = await Template.find({ isActive: true });

// 2. –ù–∞–π—Ç–∏ —à–∞–±–ª–æ–Ω—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π
const technicalTemplates = await Template.find({ category: 'technical' })
    .sort({ createdAt: -1 })
    .limit(10);

// 3. –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫
const searchResults = await Template.find({ 
    $text: { $search: '–¥–æ–≥–æ–≤–æ—Ä' } 
});

// 4. –ù–∞–π—Ç–∏ –æ–¥–∏–Ω —à–∞–±–ª–æ–Ω –ø–æ ID
const template = await Template.findById(templateId);

// 5. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —à–∞–±–ª–æ–Ω
const newTemplate = new Template({
    name: '–ù–æ–≤—ã–π —à–∞–±–ª–æ–Ω',
    category: 'technical',
    content: '–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —à–∞–±–ª–æ–Ω–∞',
    createdBy: 'user123'
});
await newTemplate.save();

// 6. –û–±–Ω–æ–≤–∏—Ç—å —à–∞–±–ª–æ–Ω
await Template.findByIdAndUpdate(
    templateId,
    { currentVersion: 2 },
    { new: true }
);

// 7. –£–¥–∞–ª–∏—Ç—å —à–∞–±–ª–æ–Ω (–º—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ)
await Template.findByIdAndUpdate(
    templateId,
    { isActive: false }
);

// 8. –ê–≥—Ä–µ–≥–∞—Ü–∏—è - –ø–æ–¥—Å—á–µ—Ç —à–∞–±–ª–æ–Ω–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
const stats = await Template.aggregate([
    { $match: { isActive: true } },
    { $group: { 
        _id: '$category', 
        count: { $sum: 1 } 
    }},
    { $sort: { count: -1 } }
]);
</pre>
            </div>
          </div>
        `
      },
      'react-structure': {
        title: '–°—Ç—Ä—É–∫—Ç—É—Ä–∞ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤',
        content: `
          <div class="code-section">
            <h3>üìÅ –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">–°–æ–∑–¥–∞–π—Ç–µ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">version-control-frontend/
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îî‚îÄ‚îÄ index.html
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TemplateList/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TemplateList.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TemplateList.css
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TemplateForm/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TemplateForm.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TemplateForm.css
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ VersionHistory/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ VersionHistory.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ VersionHistory.css
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SearchTemplates/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ SearchTemplates.jsx
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ SearchTemplates.css
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api.js
‚îÇ   ‚îú‚îÄ‚îÄ App.jsx
‚îÇ   ‚îú‚îÄ‚îÄ App.css
‚îÇ   ‚îî‚îÄ‚îÄ index.js
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ README.md
</pre>
            </div>
          </div>
        `
      },
      'react-api': {
        title: 'API —Å–µ—Ä–≤–∏—Å –¥–ª—è React',
        content: `
          <div class="code-section">
            <h3>üìù –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª src/services/api.js</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">–°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">// src/services/api.js

const API_BASE = 'http://localhost:5000/api';

class ApiService {
    // GET /api/templates - –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤
    async getTemplates(page = 1, limit = 10, filters = {}) {
        const params = new URLSearchParams({
            page: page.toString(),
            limit: limit.toString(),
            ...filters
        });
        
        const response = await fetch(API_BASE + '/templates?' + params);
        
        if (!response.ok) {
            throw new Error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —à–∞–±–ª–æ–Ω–æ–≤');
        }
        
        return await response.json();
    }

    // GET /api/templates/:id - –ü–æ–ª—É—á–∏—Ç—å –æ–¥–∏–Ω —à–∞–±–ª–æ–Ω
    async getTemplate(id) {
        const response = await fetch(API_BASE + '/templates/' + id);
        
        if (!response.ok) {
            throw new Error('–®–∞–±–ª–æ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω');
        }
        
        return await response.json();
    }

    // POST /api/templates - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —à–∞–±–ª–æ–Ω
    async createTemplate(templateData) {
        const response = await fetch(API_BASE + '/templates', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(templateData)
        });
        
        if (!response.ok) {
            throw new Error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —à–∞–±–ª–æ–Ω–∞');
        }
        
        return await response.json();
    }

    // GET /api/templates/:id/versions - –ü–æ–ª—É—á–∏—Ç—å –≤–µ—Ä—Å–∏–∏ —à–∞–±–ª–æ–Ω–∞
    async getTemplateVersions(templateId) {
        const response = await fetch(API_BASE + '/templates/' + templateId + '/versions');
        
        if (!response.ok) {
            throw new Error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –≤–µ—Ä—Å–∏–π');
        }
        
        return await response.json();
    }
}

export default new ApiService();
</pre>
            </div>
          </div>
        `
      },
      'react-template-list': {
        title: '–ö–æ–º–ø–æ–Ω–µ–Ω—Ç TemplateList',
        content: `
          <div class="code-section">
            <h3>üìù –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç src/components/TemplateList/TemplateList.jsx</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">// src/components/TemplateList/TemplateList.jsx

import React, { useState, useEffect } from 'react';
import ApiService from '../../services/api';
import './TemplateList.css';

function TemplateList({ onTemplateSelect, onNewTemplate }) {
    const [templates, setTemplates] = useState([]);
    const [loading, setLoading] = useState(true);
    const [currentPage, setCurrentPage] = useState(1);
    const [filters, setFilters] = useState({
        category: '',
        search: ''
    });

    useEffect(() => {
        loadTemplates();
    }, [currentPage, filters]);

    const loadTemplates = async () => {
        setLoading(true);
        try {
            const data = await ApiService.getTemplates(currentPage, 10, filters);
            setTemplates(data.templates || data);
        } catch (error) {
            console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —à–∞–±–ª–æ–Ω–æ–≤:', error);
        } finally {
            setLoading(false);
        }
    };

    const handleFilterChange = (e) => {
        setFilters({ ...filters, [e.target.name]: e.target.value });
        setCurrentPage(1);
    };

    if (loading) {
        return <p>–ó–∞–≥—Ä—É–∑–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤...</p>;
    }

    return (
        <div className="template-list-container">
            <h2>–°–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤</h2>
            <div className="filters">
                <input
                    type="text"
                    name="search"
                    placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é/–æ–ø–∏—Å–∞–Ω–∏—é"
                    value={filters.search}
                    onChange={handleFilterChange}
                />
                <select name="category" value={filters.category} onChange={handleFilterChange}>
                    <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                    <option value="technical">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ</option>
                    <option value="legal">–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ</option>
                    <option value="administrative">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ</option>
                </select>
                <button onClick={onNewTemplate}>+ –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —à–∞–±–ª–æ–Ω</button>
            </div>
            <ul className="template-list">
                {templates.map(template => (
                    <li key={template._id} onClick={() => onTemplateSelect(template)}>
                        <h3>{template.name}</h3>
                        <p>{template.description}</p>
                        <span className="template-category">{template.category}</span>
                        <span className="template-version">–í–µ—Ä—Å–∏—è: {template.currentVersion}</span>
                    </li>
                ))}
            </ul>
            <div className="pagination">
                <button onClick={() => setCurrentPage(prev => Math.max(1, prev - 1))} disabled={currentPage === 1}>
                    –ü—Ä–µ–¥—ã–¥—É—â–∞—è
                </button>
                <span>–°—Ç—Ä–∞–Ω–∏—Ü–∞ {currentPage}</span>
                <button onClick={() => setCurrentPage(prev => prev + 1)} disabled={templates.length < 10}>
                    –°–ª–µ–¥—É—é—â–∞—è
                </button>
            </div>
        </div>
    );
}

export default TemplateList;
</pre>
            </div>
          </div>
        `
      },
      'react-version-history': {
        title: '–ö–æ–º–ø–æ–Ω–µ–Ω—Ç VersionHistory',
        content: `
          <div class="code-section">
            <h3>üìù –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç src/components/VersionHistory/VersionHistory.jsx</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –≤–µ—Ä—Å–∏–π:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">// src/components/VersionHistory/VersionHistory.jsx

import React, { useState, useEffect } from 'react';
import ApiService from '../../services/api';
import './VersionHistory.css';

function VersionHistory({ templateId, onVersionSelect }) {
    const [versions, setVersions] = useState([]);
    const [loading, setLoading] = useState(true);
    const [selectedVersions, setSelectedVersions] = useState([]);

    useEffect(() => {
        if (templateId) {
            loadVersions();
        }
    }, [templateId]);

    const loadVersions = async () => {
        setLoading(true);
        try {
            const data = await ApiService.getTemplateVersions(templateId);
            setVersions(data.versions || data);
        } catch (error) {
            console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–µ—Ä—Å–∏–π:', error);
        } finally {
            setLoading(false);
        }
    };

    const handleVersionSelect = (version) => {
        const newSelected = selectedVersions.includes(version._id)
            ? selectedVersions.filter(id => id !== version._id)
            : [...selectedVersions, version._id].slice(-2);
        setSelectedVersions(newSelected);
        if (onVersionSelect) {
            onVersionSelect(version);
        }
    };

    if (loading) {
        return <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ –≤–µ—Ä—Å–∏–π...</p>;
    }

    return (
        <div className="version-history">
            <h3>–ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π</h3>
            <ul className="version-list">
                {versions.map(version => (
                    <li 
                        key={version._id}
                        className={'version-item ' + (selectedVersions.includes(version._id) ? 'selected' : '')}
                        onClick={() => handleVersionSelect(version)}
                    >
                        <div className="version-header">
                            <span className="version-number">v{version.versionNumber}</span>
                            <span className="version-date">
                                {new Date(version.createdAt).toLocaleDateString()}
                            </span>
                        </div>
                        <p className="version-description">{version.changeDescription}</p>
                        <div className="version-author">–ê–≤—Ç–æ—Ä: {version.createdBy}</div>
                    </li>
                ))}
            </ul>
        </div>
    );
}

export default VersionHistory;
</pre>
            </div>
          </div>
        `
      },
      'react-hooks': {
        title: '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ React Hooks',
        content: `
          <div class="code-section">
            <h3>üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Hooks</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">–û—Å–Ω–æ–≤–Ω—ã–µ Hooks –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">// –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è React Hooks

import React, { useState, useEffect, useContext, useCallback } from 'react';

// useState - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
function TemplateForm() {
    const [template, setTemplate] = useState({
        name: '',
        category: '',
        content: ''
    });
    
    const handleChange = (e) => {
        setTemplate({
            ...template,
            [e.target.name]: e.target.value
        });
    };
}

// useEffect - –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
function TemplateList() {
    const [templates, setTemplates] = useState([]);
    
    useEffect(() => {
        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
        loadTemplates();
    }, []); // –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ = –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
    
    useEffect(() => {
        // –í—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ filters
        loadTemplates();
    }, [filters]); // –í—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ filters
}

// useCallback - –º–µ–º–æ–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π
const handleTemplateSelect = useCallback((template) => {
    setSelectedTemplate(template);
}, []);
</pre>
            </div>
          </div>
        `
      },
      'dockerfile-backend': {
        title: 'Dockerfile –¥–ª—è Backend',
        content: `
          <div class="code-section">
            <h3>üìù –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª backend/Dockerfile</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">Dockerfile –¥–ª—è Node.js/Express –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;"># backend/Dockerfile

# üì¶ –ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑ Node.js (Alpine - –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π)
FROM node:18-alpine

# üìÅ –†–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
WORKDIR /app

# üìã –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ package.json –∏ package-lock.json
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–∫—ç—à–∏—Ä—É–µ—Ç—Å—è –µ—Å–ª–∏ package.json –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è)
COPY package*.json ./
RUN npm ci --only=production

# üìÇ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–≥–æ –∫–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
COPY . .

# üîå –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ—Ä—Ç–∞ 5000 (–ø–æ—Ä—Ç Express –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
EXPOSE 5000

# ‚ñ∂Ô∏è –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞ Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
CMD ["node", "src/server.js"]
</pre>
            </div>
          </div>
        `
      },
      'dockerfile-frontend': {
        title: 'Dockerfile –¥–ª—è Frontend',
        content: `
          <div class="code-section">
            <h3>üìù –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª frontend/Dockerfile</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">Dockerfile –¥–ª—è React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;"># frontend/Dockerfile

# üì¶ –ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑ Node.js (Alpine - –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π)
FROM node:18-alpine

# üìÅ –†–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
WORKDIR /app

# üìã –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ package.json –∏ package-lock.json
COPY package*.json ./
RUN npm install

# üìÇ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–≥–æ –∫–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
COPY . .

# üîå –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ—Ä—Ç–∞ 3000 (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç React)
EXPOSE 3000

# ‚ñ∂Ô∏è –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
CMD ["npm", "start"]
</pre>
            </div>
          </div>
        `
      },
      'docker-compose': {
        title: 'Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è',
        content: `
          <div class="code-section">
            <h3>üìù –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª docker-compose.yml</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">–ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">version: '3.8'

services:
  # üíæ MongoDB –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
  mongo:
    image: mongo:latest
    container_name: version-control-mongo
    environment:
      MONGO_INITDB_ROOT_USERNAME: rosatom_user
      MONGO_INITDB_ROOT_PASSWORD: rosatom_pass
      MONGO_INITDB_DATABASE: version_control
    ports:
      - "27017:27017"
    volumes:
      - mongo_data:/data/db
    networks:
      - app-network

  # üîß Backend (Node.js + Express)
  backend:
    build: ./backend
    container_name: version-control-backend
    ports:
      - "5000:5000"
    environment:
      NODE_ENV: development
      PORT: 5000
      MONGODB_URI: mongodb://rosatom_user:rosatom_pass@mongo:27017/version_control?authSource=admin
      JWT_SECRET: your_jwt_secret_key
      CORS_ORIGIN: http://localhost:3000
    depends_on:
      - mongo
    volumes:
      - ./backend:/app
      - /app/node_modules
    networks:
      - app-network
    command: npm run dev

  # üé® Frontend (React)
  frontend:
    build: ./frontend
    container_name: version-control-frontend
    ports:
      - "3000:3000"
    environment:
      NODE_ENV: development
      REACT_APP_API_BASE_URL: http://localhost:5000/api
    depends_on:
      - backend
    volumes:
      - ./frontend:/app
      - /app/node_modules
    networks:
      - app-network
    command: npm start

volumes:
  mongo_data:

networks:
  app-network:
    driver: bridge
</pre>
            </div>
          </div>
        `
      },
      'cors-setup': {
        title: '–ù–∞—Å—Ç—Ä–æ–π–∫–∞ CORS',
        content: `
          <div class="code-section">
            <h3>üìù –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CORS –≤ src/app.js</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">CORS –ø–æ–∑–≤–æ–ª—è–µ—Ç React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ API:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">// src/app.js

const express = require('express');
const cors = require('cors');
const app = express();

// üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CORS (Cross-Origin Resource Sharing)
// –ü–æ–∑–≤–æ–ª—è–µ—Ç React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ API
app.use(cors({
    origin: [
        "http://localhost:3000", // React dev server
        "http://localhost:5173", // Vite dev server
    ],
    credentials: true,
    methods: ["GET", "POST", "PUT", "DELETE", "PATCH", "OPTIONS"],
    allowedHeaders: ["Content-Type", "Authorization"]
}));

module.exports = app;
</pre>
            </div>
          </div>
        `
      },
      'api-documentation': {
        title: '–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏',
        content: `
          <div class="code-section">
            <h3>üìù –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ swagger-ui-express –∏ swagger-jsdoc</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç—ã –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">npm install swagger-ui-express swagger-jsdoc
</pre>
            </div>

            <h3 style="margin-top: 24px;">üìù –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª src/config/swagger.js</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Swagger:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">// src/config/swagger.js

const swaggerJsdoc = require('swagger-jsdoc');
const swaggerUi = require('swagger-ui-express');

const options = {
  definition: {
    openapi: '3.0.0',
    info: {
      title: '–°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞–º–∏ API',
      version: '1.0.0',
      description: 'REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞–º–∏ –∏ –≤–µ—Ä—Å–∏—è–º–∏',
    },
    servers: [
      {
        url: 'http://localhost:5000',
        description: '–õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏'
      }
    ]
  },
  apis: ['./src/routes/*.js']
};

const swaggerSpec = swaggerJsdoc(options);

module.exports = { swaggerUi, swaggerSpec };
</pre>
            </div>

            <h3 style="margin-top: 24px;">üìù –®–∞–≥ 3: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ Swagger –≤ src/app.js</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">–î–æ–±–∞–≤—å—Ç–µ Swagger –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">// src/app.js

const { swaggerUi, swaggerSpec } = require('./config/swagger');

// ... –¥—Ä—É–≥–∏–µ middleware ...

// üìö Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
app.use('/api-docs', swaggerUi.serve, swaggerUi.setup(swaggerSpec));

// –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ:
// http://localhost:5000/api-docs
</pre>
            </div>
          </div>
        `
      },
      'testing': {
        title: '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ',
        content: `
          <div class="code-section">
            <h3>üìù –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª tests/templates.test.js</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">–ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞ –¥–ª—è API:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">// tests/templates.test.js

const request = require('supertest');
const app = require('../src/app');

describe('Templates API', () => {
    test('GET /api/templates should return list of templates', async () => {
        const response = await request(app)
            .get('/api/templates')
            .expect(200);
        
        expect(Array.isArray(response.body)).toBe(true);
    });

    test('POST /api/templates should create a new template', async () => {
        const newTemplate = {
            name: 'Test Template',
            category: 'technical',
            content: 'Test content',
            createdBy: 'test-user'
        };

        const response = await request(app)
            .post('/api/templates')
            .send(newTemplate)
            .expect(201);
        
        expect(response.body.name).toBe(newTemplate.name);
    });
});
</pre>
            </div>
          </div>
        `
      },
      'logging': {
        title: '–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è',
        content: `
          <div class="code-section">
            <h3>üìù –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª src/middleware/logger.js</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">Middleware –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">// src/middleware/logger.js

const logger = (req, res, next) => {
    const timestamp = new Date().toISOString();
    console.log(\`[\${timestamp}] \${req.method} \${req.path}\`);
    next();
};

module.exports = logger;
</pre>
            </div>

            <h3 style="margin-top: 24px;">üìù –ü–æ–¥–∫–ª—é—á–∏—Ç–µ logger –≤ src/app.js</h3>
            <p style="margin-bottom: 16px; color: #9ab2c4;">–î–æ–±–∞–≤—å—Ç–µ logger middleware:</p>
            <div class="code-full">
              <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<pre style="background: var(--code-bg); padding: 16px; border-radius: 8px; overflow-x: auto;">// src/app.js

const logger = require('./middleware/logger');

// –ü–æ–¥–∫–ª—é—á–∏—Ç–µ logger –ø–µ—Ä–µ–¥ —Ä–æ—É—Ç–∞–º–∏
app.use(logger);
</pre>
            </div>
          </div>
        `
      }
    };

    // –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∞ (–ø–∞–Ω–µ–ª—å/—Ä–∞–º–∫–∞ —É–±—Ä–∞–Ω—ã)
    function dbg() {}

    function openModal(modalId) {
      dbg('openModal –≤—ã–∑–≤–∞–Ω', { modalId });

      const data = codeExamples ? codeExamples[modalId] : undefined;
      if (!data) {
        dbg('–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è modalId', { modalId, hasCodeExamples: !!codeExamples });
        alert('–ö–æ–¥ –¥–ª—è —ç—Ç–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –ø–æ–∫–∞ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω.');
        return;
      }

      const container = document.getElementById('modal-container');
      if (!container) {
        dbg('–ù–µ –Ω–∞–π–¥–µ–Ω #modal-container ‚Äî –º–æ–¥–∞–ª–∫–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–∫–∞–∑–∞–Ω–∞');
        alert('–û—à–∏–±–∫–∞: –Ω–µ –Ω–∞–π–¥–µ–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ (#modal-container).');
        return;
      }

      // –í–ê–ñ–ù–û: –µ—Å–ª–∏ –≥–¥–µ-—Ç–æ –≤—ã—à–µ —Å–ª–æ–º–∞–Ω–∞ —Ä–∞–∑–º–µ—Ç–∫–∞, #modal-container –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è –≤–Ω—É—Ç—Ä–∏ .book-container
      // (–∏ —Ç–æ–≥–¥–∞ –º–æ–¥–∞–ª–∫–∞ "—É–µ–∑–∂–∞–µ—Ç" –≤–Ω–∏–∑ –∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–≤–∏–¥–∏–º–æ–π). –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –ø–µ—Ä–µ–Ω–æ—Å–∏–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤ <body>.
      const containerInBook = !!container.closest('.book-container');
      if (containerInBook) {
        dbg('modal-container –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ .book-container ‚Äî –ø–µ—Ä–µ–Ω–æ—à—É –≤ body');
        document.body.appendChild(container);
      }

      // –£–¥–∞–ª—è–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –º–æ–¥–∞–ª–∫–∏ (–µ—Å–ª–∏ –≤–¥—Ä—É–≥ –∑–∞–≤–∏—Å–ª–∏)
      document.querySelectorAll('.modal').forEach(m => m.remove());

      const modal = document.createElement('div');
      modal.className = 'modal active';
      // –ñ—ë—Å—Ç–∫–∞—è —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞: –¥–∞–∂–µ –µ—Å–ª–∏ CSS ‚Äú—Å–ª–æ–º–∞–ª—Å—è‚Äù, –º–æ–¥–∞–ª–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∏–¥–∏–º–æ–π –∏ –≤–æ –≤—å—é–ø–æ—Ä—Ç–µ
      Object.assign(modal.style, {
        position: 'fixed',
        left: '0',
        top: '0',
        width: '100%',
        height: '100%',
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'center',
        background: 'rgba(0, 0, 0, 0.85)',
        zIndex: '2147483647',
        visibility: 'visible',
        opacity: '1',
        pointerEvents: 'auto'
      });

      // –ö–∞—Ä–∫–∞—Å
      modal.innerHTML = `
        <div class="modal-content">
          <div class="modal-header">
            <h2>${String(data.title || '–ö–æ–¥')}</h2>
            <button class="modal-close" onclick="closeModal(this)">&times;</button>
          </div>
          <div class="modal-body"></div>
        </div>
      `;

      const body = modal.querySelector('.modal-body');
      const raw = (data.content == null) ? '' : String(data.content);

      // –ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç –ø—É—Å—Ç–æ–π ‚Äî –ø–æ–∫–∞–∂–µ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
      if (!raw.trim()) {
        dbg('data.content –ø—É—Å—Ç–æ–π', { modalId, title: data.title });
        body.innerHTML = `<div class="warning-box"><strong>–ü—É—Å—Ç–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç:</strong> –¥–ª—è <code>${modalId}</code> –ø–æ–ª–µ <code>content</code> –ø—É—Å—Ç–æ–µ.</div>`;
      } else {
        // –í—Å—Ç–∞–≤–ª—è–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç; innerHTML –æ–±—ã—á–Ω–æ –Ω–µ –±—Ä–æ—Å–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–π, –ø–æ—ç—Ç–æ–º—É –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        body.innerHTML = raw;
        if (!body.textContent || !body.textContent.trim()) {
          dbg('–ü–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏ innerHTML body –æ–∫–∞–∑–∞–ª—Å—è –ø—É—Å—Ç—ã–º ‚Äî fallback –≤ <pre>', { modalId, rawLength: raw.length });
          body.innerHTML = '';
          const pre = document.createElement('pre');
          pre.style.background = 'var(--code-bg)';
          pre.style.padding = '16px';
          pre.style.borderRadius = '8px';
          pre.style.overflowX = 'auto';
          pre.textContent = raw;
          body.appendChild(pre);
        }
      }

      // ‚úÖ –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞: –µ—Å–ª–∏ JSX/HTML –ø–æ–ø–∞–ª–∏ –≤ <pre> –∫–∞–∫ —Ä–µ–∞–ª—å–Ω—ã–µ —Ç–µ–≥–∏, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏—Ö —Ç–µ–∫—Å—Ç–æ–º
      try {
        body.querySelectorAll('pre').forEach((pre) => {
          if (pre.children && pre.children.length > 0) {
            const rawHtml = pre.innerHTML;
            pre.textContent = rawHtml.replace(/<br\s*\/?>/gi, '\n');
          }
        });
      } catch (_) {}

      // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –Ω–∞ —Ñ–æ–Ω
      modal.addEventListener('click', (e) => {
        if (e.target === modal) {
          closeModal(modal.querySelector('.modal-close'));
        }
      });

      // –ü–æ–∫–∞–∑
      container.appendChild(modal);
      // –ï—Å–ª–∏ position:fixed –≤–¥—Ä—É–≥ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑-–∑–∞ transform –Ω–∞ ancestor),
      // –ø—Ä–æ–∫—Ä—É—Ç–∏–º –∫ –º–æ–¥–∞–ª–∫–µ –¥–æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Å–∫—Ä–æ–ª–ª–∞, –∏–Ω–∞—á–µ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ‚Äú–∑–∞–ª–∏–ø–∞–µ—Ç‚Äù –≤–Ω–µ —ç–∫—Ä–∞–Ω–∞.
      const pos = getComputedStyle(modal).position;
      if (pos !== 'fixed') {
        dbg('position –Ω–µ fixed ‚Äî –¥–µ–ª–∞—é scrollIntoView()', { position: pos });
        modal.scrollIntoView({ block: 'center' });
      }

      document.body.style.overflow = 'hidden';

      // –§–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –≤–∏–¥–∏–º–æ—Å—Ç–∏
      const mc = modal.querySelector('.modal-content');
      const modalStyle = getComputedStyle(modal);
      const mcStyle = mc ? getComputedStyle(mc) : null;
      const modalRect = modal.getBoundingClientRect();
      const mcRect = mc ? mc.getBoundingClientRect() : null;

      // –ê–≤—Ç–æ-–ø–æ—á–∏–Ω–∫–∞: –µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç —Å—Ö–ª–æ–ø–Ω—É–ª—Å—è/—É–µ—Ö–∞–ª ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –∏ –¥–∞—ë–º –æ—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É
      if (mc && mcRect) {
        const collapsed = mcRect.width < 50 || mcRect.height < 50;
        const offscreen = mcRect.bottom < 0 || mcRect.top > window.innerHeight;
        if (collapsed || offscreen) {
          dbg('–ê–≤—Ç–æ-—Ñ–∏–∫—Å –≥–µ–æ–º–µ—Ç—Ä–∏–∏ –º–æ–¥–∞–ª–∫–∏ (collapsed/offscreen)', { collapsed, offscreen, mcRect });
          modal.style.alignItems = 'flex-start';
          modal.style.justifyContent = 'center';
          modal.style.overflowY = 'auto';
          modal.style.paddingTop = '5vh';
          mc.style.marginTop = '0';
          mc.style.marginBottom = '5vh';
        }
      }

      dbg('–ú–æ–¥–∞–ª–∫–∞ –≤—Å—Ç–∞–≤–ª–µ–Ω–∞', {
        modalInDom: !!modal.isConnected,
        modalPosition: modalStyle.position,
        modalDisplay: modalStyle.display,
        modalZ: modalStyle.zIndex,
        modalOpacity: modalStyle.opacity,
        modalVisibility: modalStyle.visibility,
        modalPointerEvents: modalStyle.pointerEvents,
        modalRect,
        containerInBook: !!container.closest('.book-container'),
        containerRect: container.getBoundingClientRect(),
        contentDisplay: mcStyle ? mcStyle.display : null,
        contentOpacity: mcStyle ? mcStyle.opacity : null,
        contentVisibility: mcStyle ? mcStyle.visibility : null,
        contentPointerEvents: mcStyle ? mcStyle.pointerEvents : null,
        contentRect: mcRect,
        bodyTextLen: (body && body.textContent) ? body.textContent.trim().length : 0
      });
    }

    function closeModal(btn) {
      const modal = btn.closest('.modal');
      modal.classList.remove('active');
      setTimeout(() => {
        modal.remove();
        document.body.style.overflow = '';
      }, 300);
    }

    function copyCode(btn) {
      const codeBlock = btn.parentElement;
      const text = codeBlock.textContent.replace('–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å', '').trim();
      navigator.clipboard.writeText(text).then(() => {
        const originalText = btn.textContent;
        btn.textContent = '‚úì –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
        setTimeout(() => {
          btn.textContent = originalText;
        }, 2000);
      }).catch(() => {
        const textarea = document.createElement('textarea');
        textarea.value = text;
        document.body.appendChild(textarea);
        textarea.select();
        document.execCommand('copy');
        document.body.removeChild(textarea);
        btn.textContent = '‚úì –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
        setTimeout(() => {
          btn.textContent = '–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å';
        }, 2000);
      });
    }

    // –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ —è–∫–æ—Ä—è–º
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      });
    });

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–Ω–æ–ø–æ–∫ (–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ –≤—Å–µ–≥–¥–∞)
    document.addEventListener('click', (e) => {
      const btn = e.target.closest && e.target.closest('.show-code-btn[data-part]');
      if (!btn) return;
      e.preventDefault();
      e.stopPropagation();
      const partId = btn.getAttribute('data-part');
      dbg('–ö–ª–∏–∫ –ø–æ –∫–Ω–æ–ø–∫–µ', { partId, text: btn.textContent.trim() });
      if (partId) openModal(partId);
    }, true);

    document.addEventListener('touchend', (e) => {
      const btn = e.target.closest && e.target.closest('.show-code-btn[data-part]');
      if (!btn) return;
      e.preventDefault();
      e.stopPropagation();
      const partId = btn.getAttribute('data-part');
      dbg('touchend –ø–æ –∫–Ω–æ–ø–∫–µ', { partId, text: btn.textContent.trim() });
      if (partId) openModal(partId);
    }, { passive: false, capture: true });

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ Escape
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        const modal = document.querySelector('.modal.active');
        if (modal) {
          closeModal(modal.querySelector('.modal-close'));
        }
      }
    });

    window.openModal = openModal;
    window.closeModal = closeModal;
    window.copyCode = copyCode;
  </script>
</body>
</html>

